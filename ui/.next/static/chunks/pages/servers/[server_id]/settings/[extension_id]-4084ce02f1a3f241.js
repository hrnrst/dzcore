(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7578],{4958:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},5002:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3696:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},77:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/servers/[server_id]/settings/[extension_id]",function(){return t(3268)}])},7576:function(e,s,t){"use strict";t.d(s,{y:function(){return p}});var a=t(5893),n=t(7294),r=t(9774),i=t(5854),l=t(4958),d=t(3742),c=t(7327),o=t(7249),u=t(8367),m=t(1310),x=t(733),f=t(1956);function p(e){var s,t;let{defaultValue:p,onValueChange:h,endpoint:v}=e,[j,g]=n.useState(!1),[N,y]=n.useState(""),[b,w]=n.useState([]),[_,Z]=n.useState(!0);return n.useEffect(()=>{r.dJ.get(v||"/extensions").then(e=>{if(e.data.selected){w(e.data.selected),p||y(e.data.selected&&e.data.selected.length&&e.data.selected[0].id);return}w(e.data)}).finally(()=>{Z(!1)})},[]),n.useEffect(()=>{p&&y(p)},[p]),n.useEffect(()=>{h(N)},[N]),(0,a.jsxs)(m.J2,{open:j,onOpenChange:g,children:[(0,a.jsx)(m.xo,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",role:"combobox","aria-expanded":j,className:"w-full justify-between px-3 font-normal",disabled:_,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"size-4 shrink-0"}),N?(null===(s=b.find(e=>e.id===N))||void 0===s?void 0:s.display_name)||(null===(t=b.find(e=>e.id===N))||void 0===t?void 0:t.name):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"text-muted-foreground",children:"Eklenti se\xe7iniz..."})})]}),!_&&(0,a.jsx)(l.Z,{className:"ml-2 size-4 shrink-0 opacity-50"}),_&&(0,a.jsx)(x.P.spinner,{className:"ml-2 size-4 shrink-0 animate-spin opacity-50"})]})}),(0,a.jsx)(m.yk,{className:"w-[var(--radix-popover-trigger-width)] p-0",children:(0,a.jsxs)(u.mY,{children:[(0,a.jsx)(u.sZ,{placeholder:"Eklenti ara..."}),(0,a.jsx)(u.rb,{children:"Eklenti bulunamadı."}),(0,a.jsx)(u.e8,{children:(0,a.jsx)(u.fu,{children:(0,a.jsx)(f.x,{className:"h-[350px]",children:b.map(e=>(0,a.jsxs)(u.di,{onSelect:()=>{y(e.id===N?"":e.id),g(!1)},children:[(0,a.jsx)(d.Z,{className:(0,c.cn)("mr-2 size-4",N===e.id?"opacity-100":"opacity-0")}),e.display_name||e.name]},e.id))})})})]})})]})}},3688:function(e,s,t){"use strict";t.d(s,{w:function(){return p}});var a=t(5893),n=t(7294),r=t(9774),i=t(443),l=t(4958),d=t(3742),c=t(7327),o=t(7249),u=t(8367),m=t(1310),x=t(733),f=t(1956);function p(e){var s;let{defaultValue:t,onValueChange:p}=e,[h,v]=n.useState(!1),[j,g]=n.useState(""),[N,y]=n.useState([]),[b,w]=n.useState(!0);n.useEffect(()=>{r.dJ.get("/servers").then(e=>{y(e.data)}).finally(()=>{w(!1)})},[]),n.useEffect(()=>{t&&g(t)},[t]),n.useEffect(()=>{p(j)},[j]);let _=n.useRef(null);return(0,a.jsxs)(m.J2,{open:h,onOpenChange:v,children:[(0,a.jsx)(m.xo,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",role:"combobox","aria-expanded":h,className:"w-full justify-between px-3 font-normal",disabled:b,ref:_,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"size-4 shrink-0"}),j?null===(s=N.find(e=>e.id===j))||void 0===s?void 0:s.name:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"text-muted-foreground",children:"Sunucu se\xe7iniz..."})})]}),!b&&(0,a.jsx)(l.Z,{className:"ml-2 size-4 shrink-0 opacity-50"}),b&&(0,a.jsx)(x.P.spinner,{className:"ml-2 size-4 shrink-0 animate-spin opacity-50"})]})}),(0,a.jsx)(m.yk,{className:"w-[var(--radix-popover-trigger-width)] p-0",children:(0,a.jsxs)(u.mY,{children:[(0,a.jsx)(u.sZ,{placeholder:"Sunucu ara..."}),(0,a.jsx)(u.rb,{children:"Sunucu bulunamadı."}),(0,a.jsx)(u.e8,{children:(0,a.jsx)(u.fu,{children:(0,a.jsx)(f.x,{className:"h-[350px]",children:N.map(e=>(0,a.jsxs)(u.di,{onSelect:()=>{g(e.id===j?"":e.id),v(!1)},children:[(0,a.jsx)(d.Z,{className:(0,c.cn)("mr-2 size-4",j===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})})})]})})]})}},1396:function(e,s,t){"use strict";t.d(s,{Cd:function(){return c},X:function(){return o},bZ:function(){return d}});var a=t(5893),n=t(7294),r=t(5139),i=t(7327);let l=(0,r.j)("relative w-full rounded-lg border p-4 [&:has(svg)]:pl-11 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=n.forwardRef((e,s)=>{let{className:t,variant:n,...r}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(l({variant:n}),t),...r})});d.displayName="Alert";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...n})});c.displayName="AlertTitle";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...n})});o.displayName="AlertDescription"},3749:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},Zb:function(){return i},aY:function(){return c},ll:function(){return d}});var a=t(5893),n=t(7294),r=t(7327);let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});i.displayName="Card";let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",t),...n})});d.displayName="CardTitle",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...n})}).displayName="CardDescription";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...n})});c.displayName="CardContent",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)(" flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter"},2297:function(e,s,t){"use strict";t.d(s,{_:function(){return c}});var a=t(5893),n=t(7294),r=t(9102),i=t(5139),l=t(7327);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.f,{ref:s,className:(0,l.cn)(d(),t),...n})});c.displayName=r.f.displayName},986:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(5893),n=t(9008),r=t.n(n);function i(e){let{title:s,description:t,rightSide:n}=e;return(0,a.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,a.jsx)(r(),{children:(0,a.jsx)("title",{children:"".concat(s," | DZ")})}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:s}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t})]}),n&&(0,a.jsx)("div",{className:"flex items-center",children:n})]})]})}},1310:function(e,s,t){"use strict";t.d(s,{J2:function(){return l},xo:function(){return d},yk:function(){return c}});var a=t(5893),n=t(7294),r=t(6419),i=t(7327);let l=r.fC,d=r.xz,c=n.forwardRef((e,s)=>{let{className:t,align:n="center",sideOffset:l=4,...d}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsx)(r.VY,{ref:s,align:n,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});c.displayName=r.VY.displayName},5050:function(e,s,t){"use strict";t.d(s,{p:function(){return r}}),t(7294);var a=t(7421),n=t(4712);function r(){let{t:e}=(0,a.$G)("common");return{toast:s=>{let{title:t,description:a,variant:r}=s,i={description:a,duration:6e3,dismissible:!0},l="";switch(t==e("information")?l="info":t==e("success")?l="success":t==e("error")?l="error":t==e("warning")&&(l="warning"),r&&(l=r),l){case"success":return n.A.success(t,i);case"error":case"destructive":return n.A.error(t,i);case"warning":return n.A.warning(t,i);case"info":return n.A.info(t,i);default:return(0,n.A)(t,i)}}}}},3268:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(5893),n=t(9774),r=t(5002),i=t(3696),l=t(6316),d=t(1163),c=t(7294),o=t(7421),u=t(7576),m=t(3688),x=t(1396),f=t(7249),p=t(3749),h=t(5037),v=t(2297),j=t(1782),g=t(986),N=t(5050);function y(){let e=(0,d.useRouter)(),{toast:s}=(0,N.p)(),[t,u]=(0,c.useState)(!0),[m,h]=(0,c.useState)(!1),[v,y]=(0,c.useState)({}),[w,_]=(0,c.useState)({}),[Z,k]=(0,c.useState)(""),{t:z}=(0,o.$G)("servers");(0,c.useEffect)(()=>{e.query.server_id&&e.query.extension_id&&(u(!0),n.dJ.get("/servers/".concat(e.query.server_id,"/extensions/").concat(e.query.extension_id,"/settings")).then(e=>{y(e.data),_(e.data.values)}).finally(()=>u(!1)))},[e.query.server_id,e.query.extension_id]);let q=t=>{t.preventDefault(),h(!0),n.dJ.post("/servers/".concat(e.query.server_id,"/extensions/").concat(e.query.extension_id,"/settings"),w).then(()=>{s({title:z("extensions.settings.toast.title"),description:z("extensions.settings.toast.description")}),k(""),setTimeout(()=>{e.push("/servers/".concat(e.query.server_id,"/extensions/").concat(e.query.extension_id))},3e3)}).catch(e=>{k(e.response.data.message),s({title:z("extensions.settings.alert_title"),description:C(e.response.data.message),variant:"destructive"})}).finally(()=>{h(!1)})};function C(e){return null!==e&&""!==e&&(e=e.toString()).replace(/(<([^>]+)>|<script([^>]+)>)/gi,"")}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{title:z("extensions.settings.page_header.title"),description:z("extensions.settings.page_header.description")}),(0,a.jsxs)("div",{className:"p-8 pt-0",children:[Z&&(0,a.jsxs)(x.bZ,{className:"mb-8",variant:"destructive",children:[(0,a.jsx)(r.Z,{className:"size-4"}),(0,a.jsx)(x.Cd,{children:z("extensions.settings.alert_title")}),(0,a.jsx)(x.X,{children:C(Z)})]}),t?(0,a.jsx)(p.Zb,{children:(0,a.jsx)("div",{className:"flex w-full items-center justify-center",style:{height:"calc(var(--container-height) - 50vh)"},children:(0,a.jsx)(j.Z,{})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Zb,{className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"grid grid-cols-4",children:[(0,a.jsxs)("div",{className:"bg-foreground/5 p-5",children:[(0,a.jsx)("h3",{className:"font-semibold",children:z("extensions.settings.card.obligatory_settings_h3")}),(0,a.jsx)("p",{className:"mt-5 text-sm text-muted-foreground",children:z("extensions.settings.card.obligatory_settings_p")})]}),(0,a.jsxs)("div",{className:"col-span-3 p-5",children:[v.required&&0==v.required.length&&(0,a.jsx)("p",{className:"text-muted-foreground",children:z("extensions.settings.no_need_settings")}),(0,a.jsxs)("form",{onSubmit:q,children:[(0,a.jsx)(b,{inputs:v.required,values:w,setValues:_}),(0,a.jsxs)(f.z,{type:"submit",className:"mt-5",disabled:m,children:[m?(0,a.jsx)(l.Z,{className:"mr-2 size-4 animate-spin"}):(0,a.jsx)(i.Z,{className:"mr-2 size-4"})," ",z("extensions.settings.save")]})]})]})]})}),v.advanced&&0!=v.advanced.length&&(0,a.jsx)(p.Zb,{className:"mt-8 overflow-hidden",children:(0,a.jsxs)("div",{className:"grid grid-cols-4",children:[(0,a.jsxs)("div",{className:"bg-foreground/5 p-5",children:[(0,a.jsx)("h3",{className:"font-semibold",children:z("extensions.settings.card.advanced_settings_h3")}),(0,a.jsx)("p",{className:"mt-5 text-sm text-muted-foreground",children:z("extensions.settings.card.advanced_settings_p")})]}),(0,a.jsx)("div",{className:"col-span-3 p-5",children:(0,a.jsxs)("form",{onSubmit:q,children:[(0,a.jsx)(b,{inputs:v.advanced,values:w,setValues:_}),(0,a.jsxs)(f.z,{type:"submit",className:"mt-5",disabled:m,children:[m?(0,a.jsx)(l.Z,{className:"mr-2 size-4 animate-spin"}):(0,a.jsx)(i.Z,{className:"mr-2 size-4"})," ",z("extensions.settings.save")]})]})})]})})]})]})]})}function b(e){let{inputs:s,values:t,setValues:n}=e;return(0,a.jsx)("div",{className:"space-y-3",children:s.map(e=>"text"===e.type?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(v._,{htmlFor:e.variable,children:[e.name," ",e.required&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(h.I,{name:e.variable,id:e.variable,value:t[e.variable],onChange:s=>n({...t,[e.variable]:s.target.value}),required:e.required},e.variable)]}):"number"===e.type?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(v._,{htmlFor:e.variable,children:[e.name," ",e.required&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(h.I,{name:e.variable,type:e.type,id:e.variable,value:t[e.variable],onChange:s=>n({...t,[e.variable]:s.target.value}),required:e.required},e.variable)]}):"password"===e.type?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(v._,{htmlFor:e.variable,children:[e.name," ",e.required&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(h.I,{name:e.variable,id:e.variable,value:t[e.variable],onChange:s=>n({...t,[e.variable]:s.target.value}),required:e.required,type:"password"},e.variable)]}):"server"===e.type?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(v._,{htmlFor:e.variable,children:[e.name," ",e.required&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(m.w,{defaultValue:t[e.variable],onValueChange:s=>n({...t,[e.variable]:s})})]}):"extension"===e.type?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(v._,{htmlFor:e.variable,children:[e.name," ",e.required&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(u.y,{defaultValue:t[e.variable],onValueChange:s=>n({...t,[e.variable]:s})})]}):void 0)})}},9102:function(e,s,t){"use strict";t.d(s,{f:function(){return i}});var a=t(7462),n=t(7294),r=t(5320);let i=(0,n.forwardRef)((e,s)=>(0,n.createElement)(r.WV.label,(0,a.Z)({},e,{ref:s,onMouseDown:s=>{var t;null===(t=e.onMouseDown)||void 0===t||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault()}})))}},function(e){e.O(0,[6419,2888,9774,179],function(){return e(e.s=77)}),_N_E=e.O()}]);