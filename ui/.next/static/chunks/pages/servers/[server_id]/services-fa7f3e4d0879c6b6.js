(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2037],{9589:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4632:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]])},6184:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/servers/[server_id]/services",function(){return s(2559)}])},9827:function(e,t,s){"use strict";s.d(t,{C:function(){return c}});var r=s(5893);s(7294);var n=s(5139),a=s(7327);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:s}),t),...n})}},1648:function(e,t,s){"use strict";s.d(t,{X:function(){return l}});var r=s(5893),n=s(7294),a=s(6069),i=s(3742),c=s(7327);let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.fC,{ref:t,className:(0,c.cn)("peer size-4 shrink-0 overflow-hidden rounded-full border border-primary ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary/75 data-[state=checked]:text-primary-foreground",s),...n,children:(0,r.jsx)(a.z$,{className:(0,c.cn)("flex items-center justify-center rounded-full text-current"),children:(0,r.jsx)(i.Z,{className:"size-full"})})})});l.displayName=a.fC.displayName},986:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(5893),n=s(9008),a=s.n(n);function i(e){let{title:t,description:s,rightSide:n}=e;return(0,r.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"".concat(t," | Liman")})}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:t}),(0,r.jsx)("p",{className:"text-muted-foreground",children:s})]}),n&&(0,r.jsx)("div",{className:"flex items-center",children:n})]})]})}},5050:function(e,t,s){"use strict";s.d(t,{p:function(){return a}}),s(7294);var r=s(7421),n=s(4712);function a(){let{t:e}=(0,r.$G)("common");return{toast:t=>{let{title:s,description:r,variant:a}=t,i={description:r,duration:6e3,dismissible:!0},c="";switch(s==e("information")?c="info":s==e("success")?c="success":s==e("error")?c="error":s==e("warning")&&(c="warning"),a&&(c=a),c){case"success":return n.A.success(s,i);case"error":case"destructive":return n.A.error(s,i);case"warning":return n.A.warning(s,i);case"info":return n.A.info(s,i);default:return(0,n.A)(s,i)}}}}},2559:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var r=s(5893),n=s(9774),a=s(5711);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),c=(0,a.Z)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]),l=(0,a.Z)("ListRestart",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M7 12H3",key:"13ou7f"}],["path",{d:"M7 18H3",key:"1sijw9"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14",key:"qth677"}],["path",{d:"M11 10v4h4",key:"172dkj"}]]);var o=s(9589),d=s(1352);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,a.Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),v=(0,a.Z)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);var h=s(4632),f=s(1163),m=s(7294),x=s(7421),g=s(2361),p=s(9827),y=s(7249),b=s(1648),j=s(5282),k=s(2532),w=s(7622),N=s(986),_=s(2561),C=s(5050);function z(){let e=(0,f.useRouter)(),[t,s]=(0,m.useState)(!0),[a,h]=(0,m.useState)([]),[g,w]=(0,m.useState)([]),_=(0,m.useRef)(),{toast:z}=(0,C.p)(),{t:Z}=(0,x.$G)("servers"),[q,R]=(0,m.useState)(null),M=[{id:"select",header:e=>{let{table:t}=e;return(0,r.jsx)(b.X,{checked:t.getIsAllPageRowsSelected(),onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",className:"translate-y-[2px]"})},cell:e=>{let{row:t}=e;return(0,r.jsx)(b.X,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row",className:"translate-y-[2px]"})},enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:e=>{let{column:t}=e;return(0,r.jsx)(k.p,{column:t,title:Z("services.name.title")})},title:Z("services.name.title"),cell:e=>{let{row:t}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(S,{name:t.original.name}),t.original.name]})}},{accessorKey:"description",header:e=>{let{column:t}=e;return(0,r.jsx)(k.p,{column:t,title:Z("services.description.title")})},title:Z("services.description.title")},{accessorKey:"running",header:e=>{let{column:t}=e;return(0,r.jsx)(k.p,{column:t,title:Z("services.status.running.title"),filterPresets:[{key:Z("services.status.running.yes"),value:0+Z("services.status.running.yes")},{key:Z("services.status.running.no"),value:1+Z("services.status.running.no")}]})},title:Z("services.status.running.title"),cell:e=>{let{row:t}=e;return(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(p.C,{variant:"running"===t.original.status.running?"success":"destructive",children:"running"===t.original.status.running?Z("services.status.running.yes"):Z("services.status.running.no")})})},accessorFn:e=>"".concat("running"===e.status.running?0+Z("services.status.running.yes"):1+Z("services.status.running.no"))},{accessorKey:"active",header:e=>{let{column:t}=e;return(0,r.jsx)(k.p,{column:t,title:Z("services.status.active.title"),filterPresets:[{key:Z("services.status.active.yes"),value:0+Z("services.status.active.yes")},{key:Z("services.status.active.no"),value:1+Z("services.status.active.no")}]})},title:Z("services.status.active.title"),cell:e=>{let{row:t}=e;return(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(p.C,{variant:t.original.status.active?"default":"secondary",children:t.original.status.active?Z("services.status.active.yes"):Z("services.status.active.no")})})},accessorFn:e=>"".concat(e.status.active?0+Z("services.status.active.yes"):1+Z("services.status.active.no"))}],P=()=>{e.query.server_id&&n.dJ.get("/servers/".concat(e.query.server_id,"/services")).then(e=>{h(e.data),s(!1)})};(0,m.useEffect)(()=>{P()},[e.query.server_id]),(0,m.useEffect)(()=>{e.query.server_id&&n.dJ.get("/servers/".concat(e.query.server_id)).then(e=>{R(e.data.server)})},[e.query.server_id]);let A=t=>{if(!g.length)return;let s=g.map(e=>e.name);n.dJ.post("/servers/".concat(e.query.server_id,"/services/").concat(t),{services:s}).then(()=>{var e;z({title:Z("services.toast.title"),description:Z("services.toast.description")}),null===(e=_.current)||void 0===e||e.resetRowSelection(),w([]),P()})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{title:Z("services.page_header.title"),description:Z("services.page_header.description")}),(0,r.jsx)(j.Z,{tableRef:_,columns:M,data:a,loading:t,selectable:!0,onSelectedRowsChange:e=>w(e),children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(E,{onAction:()=>A("start"),children:(0,r.jsxs)(y.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",disabled:!g.length,children:[(0,r.jsx)(i,{className:"mr-2 size-4"}),Z("services.start")]})}),(0,r.jsx)(E,{onAction:()=>A("stop"),children:(0,r.jsxs)(y.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",disabled:!g.length,children:[(0,r.jsx)(c,{className:"mr-2 size-4"}),Z("services.stop")]})}),(0,r.jsx)(E,{onAction:()=>A("restart"),children:(0,r.jsxs)(y.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",disabled:!g.length,children:[(0,r.jsx)(l,{className:"mr-2 size-4"}),Z("services.restart")]})}),(0,r.jsx)(E,{onAction:()=>A("enable"),children:(0,r.jsxs)(y.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",disabled:!g.length,children:[(0,r.jsx)(o.Z,{className:"mr-2 size-4"}),Z("services.activate")]})}),(0,r.jsx)(E,{onAction:()=>A("disable"),children:(0,r.jsxs)(y.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",disabled:!g.length,children:[(0,r.jsx)(d.Z,{className:"mr-2 size-4"}),Z("services.deactivate")]})}),q&&("windows"===q.os?(0,r.jsxs)(y.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",onClick:async()=>{try{let e=await fetch("/api/servers/console/open?server_id=".concat(q.id),{method:"GET"}),t=await e.json();"ok"===t.status?window.open(t.url,"_blank","width=1024,height=768"):(console.error(t.message),alert(t.message))}catch(e){console.error("RDP bağlantısı başlatılamadı:",e),alert("RDP bağlantısı başlatılamadı")}},children:[(0,r.jsx)(u,{className:"mr-2 size-4"}),Z("services.rdp")]}):(0,r.jsxs)(y.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",onClick:async()=>{try{let e=await fetch("/api/servers/console/open?server_id=".concat(q.id),{method:"GET"}),t=await e.json();"ok"===t.status?window.open(t.url,"_blank","width=1024,height=768"):(console.error(t.message),alert(t.message))}catch(e){console.error("SSH bağlantısı başlatılamadı:",e),alert("SSH bağlantısı başlatılamadı")}},children:[(0,r.jsx)(v,{className:"mr-2 size-4"}),Z("services.ssh")]}))]})})]})}function E(e){let{children:t,onAction:s}=e,{t:n}=(0,x.$G)("servers");return(0,r.jsxs)(g.aR,{children:[(0,r.jsx)(g.vW,{asChild:!0,children:t}),(0,r.jsxs)(g._T,{children:[(0,r.jsxs)(g.fY,{children:[(0,r.jsx)(g.f$,{children:n("services.alert_dialog.title")}),(0,r.jsx)(g.yT,{children:n("services.alert_dialog.description")})]}),(0,r.jsxs)(g.xo,{children:[(0,r.jsx)(g.le,{children:n("services.alert_dialog.cancel")}),(0,r.jsx)(g.OL,{onClick:()=>s(),children:n("services.alert_dialog.confirm")})]})]})]})}function S(e){let{name:t}=e,s=(0,f.useRouter)(),[a,i]=(0,m.useState)(!0),[c,l]=(0,m.useState)(""),{t:o}=(0,x.$G)("servers"),d=()=>{i(!0),n.dJ.post("/servers/".concat(s.query.server_id,"/services/status"),{service_name:t}).then(e=>{l(e.data),i(!1)})};return(0,r.jsxs)(w.Vq,{children:[(0,r.jsx)(w.hg,{asChild:!0,children:(0,r.jsx)(h.Z,{className:"size-4 cursor-pointer",onClick:()=>d()})}),(0,r.jsxs)(w.cZ,{className:"sm:max-w-[800px]",children:[(0,r.jsxs)(w.fK,{children:[(0,r.jsx)(w.$N,{children:t}),(0,r.jsxs)(w.Be,{children:[t," ",o("services.dialog_description")]})]}),(0,r.jsx)("div",{className:"relative grid gap-4 py-4",children:a?(0,r.jsx)(_.O,{className:"h-[300px] w-full"}):(0,r.jsx)("pre",{className:"max-h-[300px] overflow-x-scroll rounded-md bg-black p-5 text-green-500",children:c})})]})]})}},6069:function(e,t,s){"use strict";s.d(t,{fC:function(){return w},z$:function(){return N}});var r=s(7462),n=s(7294),a=s(8771),i=s(5360),c=s(6206),l=s(7342),o=s(7898),d=s(7546),u=s(9115),v=s(5320);let h="Checkbox",[f,m]=(0,i.b)(h),[x,g]=f(h),p=(0,n.forwardRef)((e,t)=>{let{__scopeCheckbox:s,name:i,checked:o,defaultChecked:d,required:u,disabled:h,value:f="on",onCheckedChange:m,...g}=e,[p,y]=(0,n.useState)(null),w=(0,a.e)(t,e=>y(e)),N=(0,n.useRef)(!1),_=!p||!!p.closest("form"),[C=!1,z]=(0,l.T)({prop:o,defaultProp:d,onChange:m}),E=(0,n.useRef)(C);return(0,n.useEffect)(()=>{let e=null==p?void 0:p.form;if(e){let t=()=>z(E.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[p,z]),(0,n.createElement)(x,{scope:s,state:C,disabled:h},(0,n.createElement)(v.WV.button,(0,r.Z)({type:"button",role:"checkbox","aria-checked":j(C)?"mixed":C,"aria-required":u,"data-state":k(C),"data-disabled":h?"":void 0,disabled:h,value:f},g,{ref:w,onKeyDown:(0,c.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,c.M)(e.onClick,e=>{z(e=>!!j(e)||!e),_&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),_&&(0,n.createElement)(b,{control:p,bubbles:!N.current,name:i,value:f,checked:C,required:u,disabled:h,style:{transform:"translateX(-100%)"}}))}),y=(0,n.forwardRef)((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...i}=e,c=g("CheckboxIndicator",s);return(0,n.createElement)(u.z,{present:a||j(c.state)||!0===c.state},(0,n.createElement)(v.WV.span,(0,r.Z)({"data-state":k(c.state),"data-disabled":c.disabled?"":void 0},i,{ref:t,style:{pointerEvents:"none",...e.style}})))}),b=e=>{let{control:t,checked:s,bubbles:a=!0,...i}=e,c=(0,n.useRef)(null),l=(0,o.D)(s),u=(0,d.t)(t);return(0,n.useEffect)(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&t){let r=new Event("click",{bubbles:a});e.indeterminate=j(s),t.call(e,!j(s)&&s),e.dispatchEvent(r)}},[l,s,a]),(0,n.createElement)("input",(0,r.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!j(s)&&s},i,{tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(e){return"indeterminate"===e}function k(e){return j(e)?"indeterminate":e?"checked":"unchecked"}let w=p,N=y}},function(e){e.O(0,[5059,3265,5855,2888,9774,179],function(){return e(e.s=6184)}),_N_E=e.O()}]);