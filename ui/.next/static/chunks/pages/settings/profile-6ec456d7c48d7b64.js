(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2014],{3696:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(5711).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},5932:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/profile",function(){return t(9641)}])},2766:function(e,r,t){"use strict";t.d(r,{NI:function(){return h},Wi:function(){return m},l0:function(){return c},lX:function(){return x},pf:function(){return j},xJ:function(){return p},zG:function(){return g}});var s=t(5893),a=t(7294),n=t(8426),l=t(7536),i=t(7327),o=t(2297);let c=l.RV,d=a.createContext({}),m=e=>{let{...r}=e;return(0,s.jsx)(d.Provider,{value:{name:r.name},children:(0,s.jsx)(l.Qr,{...r})})},u=()=>{let e=a.useContext(d),r=a.useContext(f),{getFieldState:t,formState:s}=(0,l.Gc)(),n=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},f=a.createContext({}),p=a.forwardRef((e,r)=>{let{className:t,...n}=e,l=a.useId();return(0,s.jsx)(f.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...n})})});p.displayName="FormItem";let x=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:n,formItemId:l}=u();return(0,s.jsx)(o._,{ref:r,className:(0,i.cn)(n&&"text-destructive",t),htmlFor:l,...a})});x.displayName="FormLabel";let h=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:l,formDescriptionId:i,formMessageId:o}=u();return(0,s.jsx)(n.g7,{ref:r,id:l,"aria-describedby":a?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!a,...t})});h.displayName="FormControl";let j=a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:n}=u();return(0,s.jsx)("p",{ref:r,id:n,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});j.displayName="FormDescription";let g=a.forwardRef((e,r)=>{let{className:t,children:a,...n}=e,{error:l,formMessageId:o}=u(),c=l?String(null==l?void 0:l.message):a;return c?(0,s.jsx)("p",{ref:r,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",t),...n,children:c}):null});g.displayName="FormMessage"},3749:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var s=t(5893),a=t(7294),n=t(7327);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)(" flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},2297:function(e,r,t){"use strict";t.d(r,{_:function(){return c}});var s=t(5893),a=t(7294),n=t(9102),l=t(5139),i=t(7327);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(n.f,{ref:r,className:(0,i.cn)(o(),t),...a})});c.displayName=n.f.displayName},986:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var s=t(5893),a=t(9008),n=t.n(a);function l(e){let{title:r,description:t,rightSide:a}=e;return(0,s.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:"".concat(r," | DZ")})}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:r}),(0,s.jsx)("p",{className:"text-muted-foreground",children:t})]}),a&&(0,s.jsx)("div",{className:"flex items-center",children:a})]})]})}},1250:function(e,r,t){"use strict";t.d(r,{r:function(){return _}});var s=t(5893),a=t(7294),n=t(7462),l=t(6206),i=t(8771),o=t(5360),c=t(7342),d=t(7898),m=t(7546),u=t(5320);let f="Switch",[p,x]=(0,o.b)(f),[h,j]=p(f),g=(0,a.forwardRef)((e,r)=>{let{__scopeSwitch:t,name:s,checked:o,defaultChecked:d,required:m,disabled:f,value:p="on",onCheckedChange:x,...j}=e,[g,b]=(0,a.useState)(null),w=(0,i.e)(r,e=>b(e)),_=(0,a.useRef)(!1),y=!g||!!g.closest("form"),[k=!1,C]=(0,c.T)({prop:o,defaultProp:d,onChange:x});return(0,a.createElement)(h,{scope:t,checked:k,disabled:f},(0,a.createElement)(u.WV.button,(0,n.Z)({type:"button",role:"switch","aria-checked":k,"aria-required":m,"data-state":v(k),"data-disabled":f?"":void 0,disabled:f,value:p},j,{ref:w,onClick:(0,l.M)(e.onClick,e=>{C(e=>!e),y&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})})),y&&(0,a.createElement)(N,{control:g,bubbles:!_.current,name:s,value:p,checked:k,required:m,disabled:f,style:{transform:"translateX(-100%)"}}))}),b=(0,a.forwardRef)((e,r)=>{let{__scopeSwitch:t,...s}=e,l=j("SwitchThumb",t);return(0,a.createElement)(u.WV.span,(0,n.Z)({"data-state":v(l.checked),"data-disabled":l.disabled?"":void 0},s,{ref:r}))}),N=e=>{let{control:r,checked:t,bubbles:s=!0,...l}=e,i=(0,a.useRef)(null),o=(0,d.D)(t),c=(0,m.t)(r);return(0,a.useEffect)(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==t&&r){let a=new Event("click",{bubbles:s});r.call(e,t),e.dispatchEvent(a)}},[o,t,s]),(0,a.createElement)("input",(0,n.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:t},l,{tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return e?"checked":"unchecked"}var w=t(7327);let _=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(g,{className:(0,w.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:r,children:(0,s.jsx)(b,{className:(0,w.cn)("pointer-events-none block size-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});_.displayName=g.displayName},5050:function(e,r,t){"use strict";t.d(r,{p:function(){return n}}),t(7294);var s=t(7421),a=t(4712);function n(){let{t:e}=(0,s.$G)("common");return{toast:r=>{let{title:t,description:s,variant:n}=r,l={description:s,duration:6e3,dismissible:!0},i="";switch(t==e("information")?i="info":t==e("success")?i="success":t==e("error")?i="error":t==e("warning")&&(i="warning"),n&&(i=n),i){case"success":return a.A.success(t,l);case"error":case"destructive":return a.A.error(t,l);case"warning":return a.A.warning(t,l);case"info":return a.A.info(t,l);default:return(0,a.A)(t,l)}}}}},9641:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return F}});var s=t(5893),a=t(7294),n=t(9774),l=t(6312),i=t(9560),o=t.n(i);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,t(5711).Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var d=t(3696),m=t(7536),u=t(7421),f=t(1604),p=t(7327),x=t(9229),h=t(7249),j=t(3749),g=t(5037),b=t(2297),N=t(1782),v=t(986),w=t(1250),_=t(5050),y=t(2766),k=t(5282),C=t(2532),z=t(8876);function E(){let[e,r]=(0,a.useState)(!0),[t,l]=(0,a.useState)([]),{i18n:i}=(0,u.$G)(),{t:o}=(0,u.$G)("settings"),c=[{accessorKey:"ip_address",header:e=>{let{column:r}=e;return(0,s.jsx)(C.p,{column:r,title:o("profile.auth_log.ip_address")})},title:o("profile.auth_log.ip_address")},{accessorKey:"user_agent",header:e=>{let{column:r}=e;return(0,s.jsx)(C.p,{column:r,title:o("profile.auth_log.browser")})},title:o("profile.auth_log.browser"),cell:e=>{let{row:r}=e;return(0,s.jsx)(z.pn,{delayDuration:200,children:(0,s.jsxs)(z.u,{children:[(0,s.jsx)(z.aJ,{children:(0,s.jsx)("span",{className:"cursor-pointer text-blue-500",children:r.original.user_agent.substring(0,30)+"..."})}),(0,s.jsx)(z._v,{children:(0,s.jsx)("p",{children:r.original.user_agent})})]})})}},{accessorKey:"created_at",header:e=>{let{column:r}=e;return(0,s.jsx)(C.p,{column:r,title:o("profile.auth_log.date")})},title:o("profile.auth_log.date"),accessorFn:e=>new Date(e.created_at).toLocaleDateString(i.language,{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}],d=()=>{n.dJ.get("/profile/auth_logs").then(e=>{l(e.data),r(!1)})};return(0,a.useEffect)(()=>{d()},[]),(0,s.jsx)(k.Z,{columns:c,data:t,loading:e,selectable:!1})}function F(){let{t:e}=(0,u.$G)("settings"),r=f.z.object({name:f.z.string().min(3,e("profile.validations.name")),email:f.z.string().email(e("profile.validations.email")),otp_enabled:f.z.boolean(),old_password:f.z.string().optional(),password:f.z.string().optional(),password_confirmation:f.z.string().optional(),session_time:f.z.coerce.number().min(15).max(999999)}).refine(e=>e.password===e.password_confirmation,{message:e("profile.validations.password"),path:["password_confirmation"]}),{toast:t}=(0,_.p)(),[i,k]=(0,a.useState)({}),[C,z]=(0,a.useState)(!0),F=(0,m.cI)({resolver:(0,l.F)(r),defaultValues:{...i},mode:"onChange"});return(0,a.useEffect)(()=>{n.dJ.get("/profile/").then(e=>{z(!1),k(e.data.user),F.reset(e.data.user)})},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{title:e("profile.title"),description:e("profile.description")}),(0,s.jsx)("div",{className:"p-8",children:C?(0,s.jsx)(j.Zb,{children:(0,s.jsx)("div",{className:"flex w-full items-center justify-center",style:{height:"calc(var(--container-height) - 50vh)"},children:(0,s.jsx)(N.Z,{})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j.Zb,{className:"relative",children:[(0,s.jsxs)(x.qE,{className:"absolute -top-8 size-16",style:{left:"calc(50% - 32px)"},children:[(0,s.jsx)(x.F$,{src:"https://gravatar.com/avatar/".concat(o()(i.email),"?d=404"),alt:i.name}),(0,s.jsx)(x.Q5,{children:i.name[0]})]}),(0,s.jsx)(j.Ol,{className:"mt-8 flex items-center justify-center",children:(0,s.jsx)(j.ll,{children:(0,s.jsx)("h3",{className:"text-lg font-semibold",children:i.name})})})]}),(0,s.jsx)(j.Zb,{className:"mt-8 overflow-hidden",children:(0,s.jsxs)("div",{className:"grid grid-cols-4",children:[(0,s.jsxs)("div",{className:"bg-foreground/5 p-5",children:[(0,s.jsx)("h3",{className:"font-semibold",children:e("profile.form.title")}),(0,s.jsx)("p",{className:"mt-5 text-sm text-muted-foreground",children:e("profile.form.description")})]}),(0,s.jsx)("div",{className:"col-span-3 p-5",children:(0,s.jsx)(y.l0,{...F,children:(0,s.jsxs)("form",{onSubmit:F.handleSubmit(r=>{n.dJ.post("/profile",r).then(r=>{200===r.status?t({title:e("success"),description:e("profile.toasts.success")}):t({title:e("error"),description:e("profile.toasts.error"),variant:"destructive"})}).catch(r=>{(0,p.FB)(r,F)||t({title:e("error"),description:e("profile.toasts.error"),variant:"destructive"})})}),className:"mt-1 space-y-5",children:[(0,s.jsx)(y.Wi,{control:F.control,name:"name",render:r=>{let{field:t}=r;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b._,{htmlFor:"name",children:e("profile.form.name")}),(0,s.jsx)(g.I,{id:"name",placeholder:e("profile.form.name_placeholder"),...t}),(0,s.jsx)(y.zG,{className:"mt-1"})]})}}),(0,s.jsx)(y.Wi,{control:F.control,name:"email",render:r=>{let{field:t}=r;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b._,{htmlFor:"email",children:e("profile.form.email")}),(0,s.jsx)(g.I,{id:"email",placeholder:e("profile.form.email_placeholder"),...t}),(0,s.jsx)(y.zG,{className:"mt-1"})]})}}),(0,s.jsx)(y.Wi,{control:F.control,name:"otp_enabled",render:r=>{let{field:t}=r;return(0,s.jsxs)(y.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex space-x-3 space-y-0.5",children:[(0,s.jsx)(c,{className:"size-6 text-muted-foreground"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,s.jsx)(y.lX,{children:e("advanced.tweaks.OTP_ENABLED.label")}),(0,s.jsx)(y.pf,{children:e("advanced.tweaks.OTP_ENABLED.subtext")})]})]}),(0,s.jsx)(y.NI,{className:"mt-[0!important]",children:(0,s.jsx)(w.r,{checked:t.value,onCheckedChange:t.onChange})})]})}}),(0,s.jsx)(y.Wi,{control:F.control,name:"old_password",render:r=>{let{field:t}=r;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b._,{htmlFor:"old_password",children:e("profile.form.old_password")}),(0,s.jsx)(g.I,{id:"old_password",type:"password",...t}),(0,s.jsx)(y.zG,{className:"mt-1"})]})}}),(0,s.jsx)(y.Wi,{control:F.control,name:"password",render:r=>{let{field:t}=r;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b._,{htmlFor:"password",children:e("profile.form.password")}),(0,s.jsx)(g.I,{id:"password",type:"password",...t}),(0,s.jsx)(y.zG,{className:"mt-1"})]})}}),(0,s.jsx)(y.Wi,{control:F.control,name:"password_confirmation",render:r=>{let{field:t}=r;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b._,{htmlFor:"password_confirmation",children:e("profile.form.password_confirmation")}),(0,s.jsx)(g.I,{id:"password_confirmation",type:"password",...t}),(0,s.jsx)(y.zG,{className:"mt-1"})]})}}),(0,s.jsx)(y.Wi,{control:F.control,name:"session_time",render:r=>{let{field:t}=r;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b._,{htmlFor:"session_time",children:e("profile.form.session_time")}),(0,s.jsx)(g.I,{id:"session_time",placeholder:e("profile.form.session_time_placeholder"),...t}),(0,s.jsx)(y.zG,{className:"mt-1"})]})}}),(0,s.jsxs)(h.z,{type:"submit",children:[(0,s.jsx)(d.Z,{className:"mr-2 size-4"}),e("profile.form.save")]})]})})})]})}),(0,s.jsx)(j.Zb,{className:"mt-8 overflow-hidden",children:(0,s.jsxs)("div",{className:"grid grid-cols-4",children:[(0,s.jsxs)("div",{className:"bg-foreground/5 p-5",children:[(0,s.jsx)("h3",{className:"font-semibold",children:e("profile.auth_log.title")}),(0,s.jsx)("p",{className:"mt-5 text-sm text-muted-foreground",children:e("profile.auth_log.description")})]}),(0,s.jsx)("div",{className:"col-span-3 py-5",children:(0,s.jsx)(E,{})})]})})]})})]})}}},function(e){e.O(0,[5059,3265,3051,5855,2888,9774,179],function(){return e(e.s=5932)}),_N_E=e.O()}]);