(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3992],{7921:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},1325:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},9404:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},3848:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("FileKey2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v6",key:"rc0qvx"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"4",cy:"16",r:"2",key:"1ehqvc"}],["path",{d:"m10 10-4.5 4.5",key:"7fwrp6"}],["path",{d:"m9 11 1 1",key:"wa6s5q"}]])},6609:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},7705:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},3671:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(5711).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},2430:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/vault",function(){return t(9967)}])},2766:function(e,s,t){"use strict";t.d(s,{NI:function(){return p},Wi:function(){return u},l0:function(){return d},lX:function(){return h},pf:function(){return v},xJ:function(){return f},zG:function(){return j}});var a=t(5893),r=t(7294),n=t(8426),i=t(7536),l=t(7327),c=t(2297);let d=i.RV,o=r.createContext({}),u=e=>{let{...s}=e;return(0,a.jsx)(o.Provider,{value:{name:s.name},children:(0,a.jsx)(i.Qr,{...s})})},m=()=>{let e=r.useContext(o),s=r.useContext(x),{getFieldState:t,formState:a}=(0,i.Gc)(),n=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=s;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},x=r.createContext({}),f=r.forwardRef((e,s)=>{let{className:t,...n}=e,i=r.useId();return(0,a.jsx)(x.Provider,{value:{id:i},children:(0,a.jsx)("div",{ref:s,className:(0,l.cn)("space-y-2",t),...n})})});f.displayName="FormItem";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e,{error:n,formItemId:i}=m();return(0,a.jsx)(c._,{ref:s,className:(0,l.cn)(n&&"text-destructive",t),htmlFor:i,...r})});h.displayName="FormLabel";let p=r.forwardRef((e,s)=>{let{...t}=e,{error:r,formItemId:i,formDescriptionId:l,formMessageId:c}=m();return(0,a.jsx)(n.g7,{ref:s,id:i,"aria-describedby":r?"".concat(l," ").concat(c):"".concat(l),"aria-invalid":!!r,...t})});p.displayName="FormControl";let v=r.forwardRef((e,s)=>{let{className:t,...r}=e,{formDescriptionId:n}=m();return(0,a.jsx)("p",{ref:s,id:n,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});v.displayName="FormDescription";let j=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e,{error:i,formMessageId:c}=m(),d=i?String(null==i?void 0:i.message):r;return d?(0,a.jsx)("p",{ref:s,id:c,className:(0,l.cn)("text-sm font-medium text-destructive",t),...n,children:d}):null});j.displayName="FormMessage"},3688:function(e,s,t){"use strict";t.d(s,{w:function(){return h}});var a=t(5893),r=t(7294),n=t(9774),i=t(443),l=t(4958),c=t(3742),d=t(7327),o=t(7249),u=t(8367),m=t(1310),x=t(733),f=t(1956);function h(e){var s;let{defaultValue:t,onValueChange:h}=e,[p,v]=r.useState(!1),[j,N]=r.useState(""),[y,g]=r.useState([]),[b,k]=r.useState(!0);r.useEffect(()=>{n.dJ.get("/servers").then(e=>{g(e.data)}).finally(()=>{k(!1)})},[]),r.useEffect(()=>{t&&N(t)},[t]),r.useEffect(()=>{h(j)},[j]);let w=r.useRef(null);return(0,a.jsxs)(m.J2,{open:p,onOpenChange:v,children:[(0,a.jsx)(m.xo,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",role:"combobox","aria-expanded":p,className:"w-full justify-between px-3 font-normal",disabled:b,ref:w,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"size-4 shrink-0"}),j?null===(s=y.find(e=>e.id===j))||void 0===s?void 0:s.name:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"text-muted-foreground",children:"Sunucu se\xe7iniz..."})})]}),!b&&(0,a.jsx)(l.Z,{className:"ml-2 size-4 shrink-0 opacity-50"}),b&&(0,a.jsx)(x.P.spinner,{className:"ml-2 size-4 shrink-0 animate-spin opacity-50"})]})}),(0,a.jsx)(m.yk,{className:"w-[var(--radix-popover-trigger-width)] p-0",children:(0,a.jsxs)(u.mY,{children:[(0,a.jsx)(u.sZ,{placeholder:"Sunucu ara..."}),(0,a.jsx)(u.rb,{children:"Sunucu bulunamadÄ±."}),(0,a.jsx)(u.e8,{children:(0,a.jsx)(u.fu,{children:(0,a.jsx)(f.x,{className:"h-[350px]",children:y.map(e=>(0,a.jsxs)(u.di,{onSelect:()=>{N(e.id===j?"":e.id),v(!1)},children:[(0,a.jsx)(c.Z,{className:(0,d.cn)("mr-2 size-4",j===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})})})]})})]})}},2297:function(e,s,t){"use strict";t.d(s,{_:function(){return d}});var a=t(5893),r=t(7294),n=t(9102),i=t(5139),l=t(7327);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.f,{ref:s,className:(0,l.cn)(c(),t),...r})});d.displayName=n.f.displayName},986:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(5893),r=t(9008),n=t.n(r);function i(e){let{title:s,description:t,rightSide:r}=e;return(0,a.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"".concat(s," | DZ")})}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:s}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t})]}),r&&(0,a.jsx)("div",{className:"flex items-center",children:r})]})]})}},1310:function(e,s,t){"use strict";t.d(s,{J2:function(){return l},xo:function(){return c},yk:function(){return d}});var a=t(5893),r=t(7294),n=t(6419),i=t(7327);let l=n.fC,c=n.xz,d=r.forwardRef((e,s)=>{let{className:t,align:r="center",sideOffset:l=4,...c}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsx)(n.VY,{ref:s,align:r,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...c})})});d.displayName=n.VY.displayName},8626:function(e,s,t){"use strict";t.d(s,{E:function(){return c},m:function(){return d}});var a=t(5893),r=t(7294),n=t(150),i=t(316),l=t(7327);let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.fC,{className:(0,l.cn)("grid gap-2",t),...r,ref:s})});c.displayName=n.fC.displayName;let d=r.forwardRef((e,s)=>{let{className:t,children:r,...c}=e;return(0,a.jsx)(n.ck,{ref:s,className:(0,l.cn)("aspect-square size-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...c,children:(0,a.jsx)(n.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"size-2.5 fill-current text-current"})})})});d.displayName=n.ck.displayName},4210:function(e,s,t){"use strict";t.d(s,{Ei:function(){return N},FF:function(){return v},Tu:function(){return p},aM:function(){return o},bC:function(){return j},sw:function(){return u},ue:function(){return h},yo:function(){return d}});var a=t(5893),r=t(7294),n=t(2854),i=t(5139),l=t(1352),c=t(7327);let d=n.fC,o=n.xz,u=n.x8,m=e=>{let{className:s,...t}=e;return(0,a.jsx)(n.h_,{className:(0,c.cn)(s),...t})};m.displayName=n.h_.displayName;let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,c.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});x.displayName=n.aV.displayName;let f=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 overflow-y-auto",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=r.forwardRef((e,s)=>{let{side:t="right",className:r,children:i,...d}=e;return(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(n.VY,{ref:s,className:(0,c.cn)(f({side:t}),r),...d,children:[i,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(l.Z,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=n.VY.displayName;let p=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};p.displayName="SheetHeader";let v=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};v.displayName="SheetFooter";let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Dx,{ref:s,className:(0,c.cn)("text-lg font-semibold text-foreground",t),...r})});j.displayName=n.Dx.displayName;let N=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.dk,{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",t),...r})});N.displayName=n.dk.displayName},5765:function(e,s,t){"use strict";t.d(s,{g:function(){return i}});var a=t(5893),r=t(7294),n=t(7327);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex max-h-[400px] min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});i.displayName="Textarea"},5050:function(e,s,t){"use strict";t.d(s,{p:function(){return n}}),t(7294);var a=t(7421),r=t(4712);function n(){let{t:e}=(0,a.$G)("common");return{toast:s=>{let{title:t,description:a,variant:n}=s,i={description:a,duration:6e3,dismissible:!0},l="";switch(t==e("information")?l="info":t==e("success")?l="success":t==e("error")?l="error":t==e("warning")&&(l="warning"),n&&(l=n),l){case"success":return r.A.success(t,i);case"error":case"destructive":return r.A.error(t,i);case"warning":return r.A.warning(t,i);case"info":return r.A.info(t,i);default:return(0,r.A)(t,i)}}}}},8946:function(e,s,t){"use strict";t.d(s,{q:function(){return r}});let a=(0,t(9391).Z)(),r=()=>a},9967:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return U}});var a=t(5893),r=t(9774),n=t(7294),i=t(7421),l=t(4009),c=t(4958),d=t(3742),o=t(7327),u=t(7249),m=t(8367),x=t(1310),f=t(733),h=t(1956);function p(e){var s;let{defaultValue:t,onValueChange:p}=e,{t:v}=(0,i.$G)("components"),[j,N]=n.useState(!1),[y,g]=n.useState(""),[b,k]=n.useState([]),[w,_]=n.useState(!0);return n.useEffect(()=>{r.dJ.get("/settings/users").then(e=>{k(e.data)}).finally(()=>{_(!1)})},[]),n.useEffect(()=>{t&&g(t)},[t]),n.useEffect(()=>{p(y)},[y]),(0,a.jsxs)(x.J2,{open:j,onOpenChange:N,children:[(0,a.jsx)(x.xo,{asChild:!0,children:(0,a.jsxs)(u.z,{role:"combobox","aria-expanded":j,variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",disabled:w,children:[(0,a.jsx)(l.Z,{className:"mr-2 size-4 shrink-0"}),y?null===(s=b.find(e=>e.id===y))||void 0===s?void 0:s.name:(0,a.jsx)("span",{className:"text-muted-foreground",children:v("select.user.select_placeholder")}),!w&&(0,a.jsx)(c.Z,{className:"ml-2 size-4 shrink-0 opacity-50"}),w&&(0,a.jsx)(f.P.spinner,{className:"ml-2 size-4 shrink-0 animate-spin opacity-50"})]})}),(0,a.jsx)(x.yk,{className:"w-[var(--radix-popover-trigger-width)] min-w-[300px] p-0",children:(0,a.jsxs)(m.mY,{children:[(0,a.jsx)(m.sZ,{placeholder:v("select.user.search_placeholder")}),(0,a.jsx)(m.rb,{children:v("select.user.not_found")}),(0,a.jsx)(m.e8,{children:(0,a.jsx)(h.x,{className:"h-[300px]",children:(0,a.jsx)(m.fu,{children:b.map(e=>(0,a.jsxs)(m.di,{onSelect:()=>{g(e.id===y?"":e.id),N(!1)},children:[(0,a.jsx)(d.Z,{className:(0,o.cn)("mr-2 size-4",y===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})})})]})})]})}var v=t(6312),j=t(6609),N=t(3848),y=t(7921),g=t(1325),b=t(7536),k=t(1604),w=t(8946),_=t(2297),z=t(8626),C=t(4210),E=t(2766),Z=t(3688),F=t(5037),R=t(5765),V=t(5050);function S(e){let{userId:s}=e,{toast:t}=(0,V.p)(),l=(0,w.q)(),{t:c}=(0,i.$G)("settings"),d=k.z.object({server_id:k.z.string().min(1,c("vault.key.validation.server")),type:k.z.string().min(1,c("vault.key.validation.type")),username:k.z.string().optional(),password:k.z.string().optional(),key_port:k.z.string().max(5,{message:c("vault.key.validation.port")}).min(1,c("vault.key.validation.port_nonempty"))}),m=(0,b.cI)({resolver:(0,v.F)(d),defaultValues:{server_id:"",type:"ssh",username:"",password:"",key_port:"22"}}),[x,h]=(0,n.useState)(!1);return(0,a.jsxs)(C.yo,{open:x,onOpenChange:e=>h(e),children:[(0,a.jsx)(C.aM,{asChild:!0,children:(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",children:[(0,a.jsx)(j.Z,{className:"mr-2 size-4"}),c("vault.key.button")]})}),(0,a.jsxs)(C.ue,{side:"right",className:"sm:w-[800px] sm:max-w-full",children:[(0,a.jsxs)(C.Tu,{className:"mb-8",children:[(0,a.jsx)(C.bC,{children:c("vault.key.button")}),(0,a.jsx)(C.Ei,{children:c("vault.key.description")})]}),(0,a.jsx)(E.l0,{...m,children:(0,a.jsxs)("form",{onSubmit:m.handleSubmit(e=>{r.dJ.post("/settings/vault/key",{...e,user_id:s}).then(e=>{200===e.status?(t({title:c("vault.key.toasts.success"),description:c("vault.key.toasts.success_msg")}),l.emit("REFETCH_VAULT"),h(!1),m.reset()):t({title:c("vault.key.toasts.error"),description:c("vault.key.toasts.error_msg"),variant:"destructive"})}).catch(e=>{(0,o.FB)(e,m)||t({title:c("vault.key.toasts.error"),description:c("vault.key.toasts.error_msg"),variant:"destructive"})})}),className:"space-y-5",children:[(0,a.jsx)(E.Wi,{control:m.control,name:"server_id",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"server_id",children:c("vault.key.form.server")}),(0,a.jsx)(Z.w,{onValueChange:s.onChange,defaultValue:s.value}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}}),(0,a.jsx)(E.Wi,{control:m.control,name:"type",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"type",children:c("vault.key.form.type")}),(0,a.jsxs)("div",{className:"mt-1 space-y-8 sm:col-span-2 sm:mt-0",children:[(0,a.jsxs)(z.E,{className:"grid grid-cols-3 gap-8 pt-2",id:"key_type",value:s.value,onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(E.xJ,{children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"ssh",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:c("vault.key.form.ssh_pw")}),(0,a.jsxs)("div",{className:"details flex justify-between",children:[(0,a.jsx)("div",{className:"icons",children:(0,a.jsx)(j.Z,{className:"size-4"})}),(0,a.jsxs)("div",{className:"icons flex gap-2",children:[(0,a.jsx)(f.P.windows,{className:"size-4"}),(0,a.jsx)(f.P.linux,{className:"size-4"})]})]})]})})]})}),(0,a.jsx)(E.xJ,{children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"ssh_certificate",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:c("vault.key.form.ssh_cert")}),(0,a.jsxs)("div",{className:"details flex justify-between",children:[(0,a.jsx)("div",{className:"icons",children:(0,a.jsx)(N.Z,{className:"size-4"})}),(0,a.jsxs)("div",{className:"icons flex gap-2",children:[(0,a.jsx)(f.P.windows,{className:"size-4"}),(0,a.jsx)(f.P.linux,{className:"size-4"})]})]})]})})]})}),(0,a.jsx)(E.xJ,{children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"winrm",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:"WinRM"}),(0,a.jsxs)("div",{className:"details flex justify-between",children:[(0,a.jsx)("div",{className:"icons",children:(0,a.jsx)(j.Z,{className:"size-4"})}),(0,a.jsx)("div",{className:"icons flex gap-2",children:(0,a.jsx)(f.P.windows,{className:"size-4"})})]})]})})]})}),(0,a.jsx)(E.xJ,{children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"winrm_insecure",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:c("vault.key.form.winrm_insecure")}),(0,a.jsxs)("div",{className:"details flex justify-between",children:[(0,a.jsx)("div",{className:"icons",children:(0,a.jsx)(j.Z,{className:"size-4"})}),(0,a.jsx)("div",{className:"icons flex gap-2",children:(0,a.jsx)(f.P.windows,{className:"size-4"})})]})]})})]})}),(0,a.jsx)(E.xJ,{children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"no_key",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:c("vault.key.form.no_key")}),(0,a.jsx)("div",{className:"details flex justify-between",children:(0,a.jsx)("div",{className:"icons",children:(0,a.jsx)(y.Z,{className:"size-4"})})})]})})]})})]}),(0,a.jsx)(E.zG,{})]}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}}),"no_key"!==m.watch("type")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Wi,{control:m.control,name:"username",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"username",children:c("vault.key.form.username")}),(0,a.jsx)(F.I,{id:"username",...s,maxLength:125}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}}),(0,a.jsx)(E.Wi,{control:m.control,name:"password",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"password",children:c("vault.key.form.password")}),"ssh_certificate"===m.watch("type")?(0,a.jsx)(R.g,{id:"password",...s,maxLength:2500}):(0,a.jsx)(F.I,{id:"password",type:"password",...s,maxLength:200}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}})]}),(0,a.jsx)(E.Wi,{control:m.control,name:"key_port",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"key_port",children:c("vault.key.form.port")}),(0,a.jsx)("div",{className:"mt-1 space-y-8 sm:col-span-2 sm:mt-0",children:(0,a.jsxs)(z.E,{className:"grid grid-cols-3 gap-8 pt-2",id:"port",value:s.value,onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(E.xJ,{children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"22",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:"SSH"}),(0,a.jsxs)("div",{className:"details flex justify-between",children:[(0,a.jsx)("span",{className:"text-foreground/50",children:"22"}),(0,a.jsxs)("div",{className:"icons flex gap-2",children:[(0,a.jsx)(f.P.windows,{className:"size-4"}),(0,a.jsx)(f.P.linux,{className:"size-4"})]})]})]})})]})}),(0,a.jsx)(E.xJ,{className:"relative",children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"5986",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:"WinRM"}),(0,a.jsxs)("div",{className:"details flex justify-between",children:[(0,a.jsx)("span",{className:"text-foreground/50",children:"5986"}),(0,a.jsx)("div",{className:"icons flex gap-2",children:(0,a.jsx)(f.P.windows,{className:"size-4"})})]})]})})]})}),(0,a.jsx)(E.xJ,{className:"relative",children:(0,a.jsxs)(E.lX,{className:"relative [&:has([data-state=checked])>div]:border-primary",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(z.m,{value:"636",className:"sr-only"})}),(0,a.jsx)("div",{className:"items-center rounded-md border-2 border-muted p-1 hover:border-accent",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-4",children:[(0,a.jsx)("span",{children:"AD / Samba"}),(0,a.jsxs)("div",{className:"details flex justify-between",children:[(0,a.jsx)("span",{className:"text-foreground/50",children:"636"}),(0,a.jsx)("div",{className:"icons flex gap-2",children:(0,a.jsx)(f.P.windows,{className:"size-4"})})]})]})})]})})]})}),(0,a.jsx)(F.I,{type:"text",id:"port",...s,onChange:s.onChange,className:"mb-3"}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}}),(0,a.jsx)(C.FF,{children:(0,a.jsxs)(u.z,{type:"submit",children:[(0,a.jsx)(g.Z,{className:"mr-2 size-4"})," ",c("vault.key.form.submit")]})})]})})]})]})}var I=t(1408);function P(e){let{userId:s}=e,{t}=(0,i.$G)("settings"),{toast:l}=(0,V.p)(),c=(0,w.q)(),d=k.z.object({server_id:k.z.string().min(1,t("vault.create.validation.server")),name:k.z.string().min(1,t("vault.create.validation.key")).max(65),value:k.z.string().min(1,t("vault.create.validation.value"))}),m=(0,b.cI)({resolver:(0,v.F)(d),defaultValues:{server_id:"",name:"",value:""}}),[x,f]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{x||m.reset()},[x]),(0,a.jsxs)(C.yo,{open:x,onOpenChange:e=>f(e),children:[(0,a.jsx)(C.aM,{asChild:!0,children:(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",children:[(0,a.jsx)(I.Z,{className:"mr-2 size-4"}),t("vault.create.button")]})}),(0,a.jsxs)(C.ue,{side:"right",className:"sm:w-[600px] sm:max-w-full",children:[(0,a.jsxs)(C.Tu,{className:"mb-8",children:[(0,a.jsx)(C.bC,{children:t("vault.create.button")}),(0,a.jsx)(C.Ei,{children:t("vault.create.description")})]}),(0,a.jsx)(E.l0,{...m,children:(0,a.jsxs)("form",{onSubmit:m.handleSubmit(e=>{r.dJ.post("/settings/vault",{...e,user_id:s}).then(e=>{200===e.status?(l({title:t("vault.create.toasts.success"),description:t("vault.create.toasts.success_msg")}),c.emit("REFETCH_VAULT"),f(!1),m.reset()):l({title:t("vault.create.toasts.error"),description:t("vault.create.toasts.error_msg"),variant:"destructive"})}).catch(e=>{(0,o.FB)(e,m)||l({title:t("vault.create.toasts.error"),description:t("vault.create.toasts.error_msg"),variant:"destructive"})})}),className:"space-y-5",children:[(0,a.jsx)(E.Wi,{control:m.control,name:"server_id",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"server_id",children:t("vault.create.form.server")}),(0,a.jsx)(Z.w,{onValueChange:s.onChange,defaultValue:s.value}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}}),(0,a.jsx)(E.Wi,{control:m.control,name:"name",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"name",children:t("vault.create.form.key")}),(0,a.jsx)(F.I,{id:"name",...s,maxLength:70}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}}),(0,a.jsx)(E.Wi,{control:m.control,name:"value",render:e=>{let{field:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(_._,{htmlFor:"value",children:t("vault.create.form.value")}),(0,a.jsx)(F.I,{id:"value",...s}),(0,a.jsx)(E.zG,{className:"mt-1"})]})}}),(0,a.jsx)(C.FF,{children:(0,a.jsxs)(u.z,{type:"submit",children:[(0,a.jsx)(g.Z,{className:"mr-2 size-4"})," ",t("vault.create.form.submit")]})})]})})]})]})}var G=t(9404),T=t(7705),L=t(3671),M=t(2361),q=t(7776),J=t(7622);function A(e){let{row:s}=e,t=s.original,[r,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),{t:o}=(0,i.$G)("settings");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(q.h_,{children:[(0,a.jsx)(q.$F,{asChild:!0,children:(0,a.jsxs)(u.z,{variant:"ghost",className:"flex size-5 p-0 data-[state=open]:bg-muted",children:[(0,a.jsx)(G.Z,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,a.jsxs)(q.AW,{align:"end",className:"w-[160px]",children:[(0,a.jsxs)(q.Xi,{onClick:()=>d(!0),disabled:"key"==t.type,children:[(0,a.jsx)(T.Z,{className:"mr-2 size-3.5"}),o("vault.actions.edit.button")]}),(0,a.jsx)(q.VD,{}),(0,a.jsxs)(q.Xi,{onClick:()=>l(!0),children:[(0,a.jsx)(L.Z,{className:"mr-2 size-3.5"}),o("vault.actions.delete.button")]})]})]}),(0,a.jsx)(O,{open:r,setOpen:l,vault:t}),(0,a.jsx)(W,{open:c,setOpen:d,vault:t})]})}function O(e){let{open:s,setOpen:t,vault:l}=e,c=(0,w.q)(),{toast:d}=(0,V.p)(),{t:o}=(0,i.$G)("settings"),[u,m]=(0,n.useState)(!1),x=()=>{m(!0),r.dJ.delete("/settings/vault",{data:{type:l.type,id:l.id}}).then(()=>{d({title:o("vault.actions.delete.success"),description:o("vault.actions.delete.success_msg")}),c.emit("REFETCH_VAULT"),t(!1)}).catch(()=>{d({title:o("vault.actions.delete.error"),description:o("vault.actions.delete.error_msg"),variant:"destructive"})}).finally(()=>{m(!1)})};return(0,a.jsx)(M.aR,{open:s,onOpenChange:e=>t(e),children:(0,a.jsxs)(M._T,{children:[(0,a.jsxs)(M.fY,{children:[(0,a.jsx)(M.f$,{children:o("vault.actions.delete.confirm")}),(0,a.jsx)(M.yT,{children:o("vault.actions.delete.confirm_msg")})]}),(0,a.jsxs)(M.xo,{children:[(0,a.jsx)(M.le,{children:o("vault.actions.delete.cancel")}),(0,a.jsxs)(M.OL,{onClick:()=>x(),children:[u&&(0,a.jsx)(f.P.spinner,{className:"size-4 animate-spin"}),o("vault.actions.delete.delete")]})]})]})})}function W(e){let{open:s,setOpen:t,vault:l}=e,c=(0,w.q)(),{toast:d}=(0,V.p)(),[o,m]=(0,n.useState)(!1),{t:x}=(0,i.$G)("settings"),[h,p]=(0,n.useState)(""),v=()=>{m(!0),r.dJ.patch("/settings/vault",{value:h,setting_id:l.id}).then(()=>{d({title:x("vault.actions.edit.success"),description:x("vault.actions.edit.success_msg")}),c.emit("REFETCH_VAULT"),t(!1)}).catch(()=>{d({title:x("vault.actions.edit.error"),description:x("vault.actions.edit.error_msg"),variant:"destructive"})}).finally(()=>{m(!1)})};return(0,a.jsx)(J.Vq,{onOpenChange:e=>t(e),open:s,children:(0,a.jsxs)(J.cZ,{className:"sm:max-w-[525px]",children:[(0,a.jsxs)(J.fK,{children:[(0,a.jsx)(J.$N,{children:x("vault.actions.edit.confirm")}),(0,a.jsx)(J.Be,{children:x("vault.actions.edit.confirm_msg")})]}),(0,a.jsxs)("div",{className:"mt-3 grid w-full items-center gap-1.5",children:[(0,a.jsx)(_._,{htmlFor:"license",children:x("vault.actions.edit.data")}),(0,a.jsx)(R.g,{id:"license",onChange:e=>p(e.target.value),maxLength:750})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end",children:[(0,a.jsx)(u.z,{variant:"outline",onClick:()=>t(!1),className:"mr-2",children:x("vault.actions.edit.cancel")}),(0,a.jsxs)(u.z,{disabled:o,onClick:()=>v(),children:[o?(0,a.jsx)(f.P.spinner,{className:"mr-2 size-4 animate-spin"}):(0,a.jsx)(T.Z,{className:"mr-2 size-4"}),x("vault.actions.edit.edit")]})]})]})})}var X=t(5282),$=t(2532),H=t(986),D=t(9681);function U(){let[e,s]=(0,n.useState)(!0),[t,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(""),o=(0,D.x)(),u=(0,w.q)(),{t:m}=(0,i.$G)("settings"),x=[{accessorKey:"name",header:e=>{let{column:s}=e;return(0,a.jsx)($.p,{column:s,title:m("vault.data_name")})},title:m("vault.data_name")},{accessorKey:"server_name",header:e=>{let{column:s}=e;return(0,a.jsx)($.p,{column:s,title:m("vault.server_name")})},title:m("vault.server_name")},{id:"actions",cell:e=>{let{row:s}=e;return(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(A,{row:s})})}}],f=e=>{r.dJ.get("/settings/vault?user_id=".concat(e)).then(e=>{l(e.data),s(!1)})};return(0,n.useEffect)(()=>(f(c),u.on("REFETCH_VAULT",()=>{f(c)}),()=>u.off("REFETCH_VAULT")),[c]),(0,n.useEffect)(()=>{1===o.status&&void 0!==o.id&&d(o.id)},[]),(0,n.useEffect)(()=>{setTimeout(()=>{1===o.status&&void 0!==o.id&&d(o.id)},1e3)},[o]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H.Z,{title:m("vault.title"),description:m("vault.description")}),(0,a.jsx)(X.Z,{columns:x,data:t,loading:e,selectable:!1,children:(0,a.jsxs)("div",{className:"flex gap-3",children:[1===o.status&&void 0!==o.id&&(0,a.jsx)(p,{onValueChange:e=>d(e),defaultValue:c}),(0,a.jsx)(P,{userId:c}),(0,a.jsx)(S,{userId:c})]})})]})}},150:function(e,s,t){"use strict";t.d(s,{ck:function(){return G},fC:function(){return P},z$:function(){return T}});var a=t(7462),r=t(7294),n=t(6206),i=t(8771),l=t(5360),c=t(5320),d=t(6681),o=t(7342),u=t(8990),m=t(7546),x=t(7898),f=t(9115);let h="Radio",[p,v]=(0,l.b)(h),[j,N]=p(h),y=(0,r.forwardRef)((e,s)=>{let{__scopeRadio:t,name:l,checked:d=!1,required:o,disabled:u,value:m="on",onCheck:x,...f}=e,[h,p]=(0,r.useState)(null),v=(0,i.e)(s,e=>p(e)),N=(0,r.useRef)(!1),y=!h||!!h.closest("form");return(0,r.createElement)(j,{scope:t,checked:d,disabled:u},(0,r.createElement)(c.WV.button,(0,a.Z)({type:"button",role:"radio","aria-checked":d,"data-state":k(d),"data-disabled":u?"":void 0,disabled:u,value:m},f,{ref:v,onClick:(0,n.M)(e.onClick,e=>{d||null==x||x(),y&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),y&&(0,r.createElement)(b,{control:h,bubbles:!N.current,name:l,value:m,checked:d,required:o,disabled:u,style:{transform:"translateX(-100%)"}}))}),g=(0,r.forwardRef)((e,s)=>{let{__scopeRadio:t,forceMount:n,...i}=e,l=N("RadioIndicator",t);return(0,r.createElement)(f.z,{present:n||l.checked},(0,r.createElement)(c.WV.span,(0,a.Z)({"data-state":k(l.checked),"data-disabled":l.disabled?"":void 0},i,{ref:s})))}),b=e=>{let{control:s,checked:t,bubbles:n=!0,...i}=e,l=(0,r.useRef)(null),c=(0,x.D)(t),d=(0,m.t)(s);return(0,r.useEffect)(()=>{let e=l.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==t&&s){let a=new Event("click",{bubbles:n});s.call(e,t),e.dispatchEvent(a)}},[c,t,n]),(0,r.createElement)("input",(0,a.Z)({type:"radio","aria-hidden":!0,defaultChecked:t},i,{tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function k(e){return e?"checked":"unchecked"}let w=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_="RadioGroup",[z,C]=(0,l.b)(_,[d.Pc,v]),E=(0,d.Pc)(),Z=v(),[F,R]=z(_),V=(0,r.forwardRef)((e,s)=>{let{__scopeRadioGroup:t,name:n,defaultValue:i,value:l,required:m=!1,disabled:x=!1,orientation:f,dir:h,loop:p=!0,onValueChange:v,...j}=e,N=E(t),y=(0,u.gm)(h),[g,b]=(0,o.T)({prop:l,defaultProp:i,onChange:v});return(0,r.createElement)(F,{scope:t,name:n,required:m,disabled:x,value:g,onValueChange:b},(0,r.createElement)(d.fC,(0,a.Z)({asChild:!0},N,{orientation:f,dir:y,loop:p}),(0,r.createElement)(c.WV.div,(0,a.Z)({role:"radiogroup","aria-required":m,"aria-orientation":f,"data-disabled":x?"":void 0,dir:y},j,{ref:s}))))}),S=(0,r.forwardRef)((e,s)=>{let{__scopeRadioGroup:t,disabled:l,...c}=e,o=R("RadioGroupItem",t),u=o.disabled||l,m=E(t),x=Z(t),f=(0,r.useRef)(null),h=(0,i.e)(s,f),p=o.value===c.value,v=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{let e=e=>{w.includes(e.key)&&(v.current=!0)},s=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,r.createElement)(d.ck,(0,a.Z)({asChild:!0},m,{focusable:!u,active:p}),(0,r.createElement)(y,(0,a.Z)({disabled:u,required:o.required,checked:p},x,c,{name:o.name,ref:h,onCheck:()=>o.onValueChange(c.value),onKeyDown:(0,n.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,n.M)(c.onFocus,()=>{var e;v.current&&(null===(e=f.current)||void 0===e||e.click())})})))}),I=(0,r.forwardRef)((e,s)=>{let{__scopeRadioGroup:t,...n}=e,i=Z(t);return(0,r.createElement)(g,(0,a.Z)({},i,n,{ref:s}))}),P=V,G=S,T=I},9391:function(e,s,t){"use strict";function a(e){return{all:e=e||new Map,on:function(s,t){var a=e.get(s);a?a.push(t):e.set(s,[t])},off:function(s,t){var a=e.get(s);a&&(t?a.splice(a.indexOf(t)>>>0,1):e.set(s,[]))},emit:function(s,t){var a=e.get(s);a&&a.slice().map(function(e){e(t)}),(a=e.get("*"))&&a.slice().map(function(e){e(s,t)})}}}t.d(s,{Z:function(){return a}})}},function(e){e.O(0,[5059,3265,3051,6419,5855,2888,9774,179],function(){return e(e.s=2430)}),_N_E=e.O()}]);