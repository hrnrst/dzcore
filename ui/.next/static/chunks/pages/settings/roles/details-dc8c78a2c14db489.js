(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3823],{3025:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6070:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/roles/details",function(){return s(8516)}])},986:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(5893),l=s(9008),n=s.n(l);function i(e){let{title:t,description:s,rightSide:l}=e;return(0,r.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"".concat(t," | DZ")})}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:t}),(0,r.jsx)("p",{className:"text-muted-foreground",children:s})]}),l&&(0,r.jsx)("div",{className:"flex items-center",children:l})]})]})}},5050:function(e,t,s){"use strict";s.d(t,{p:function(){return n}}),s(7294);var r=s(7421),l=s(4712);function n(){let{t:e}=(0,r.$G)("common");return{toast:t=>{let{title:s,description:r,variant:n}=t,i={description:r,duration:6e3,dismissible:!0},a="";switch(s==e("information")?a="info":s==e("success")?a="success":s==e("error")?a="error":s==e("warning")&&(a="warning"),n&&(a=n),a){case"success":return l.A.success(s,i);case"error":case"destructive":return l.A.error(s,i);case"warning":return l.A.warning(s,i);case"info":return l.A.info(s,i);default:return(0,l.A)(s,i)}}}}},3269:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var r=s(7294);let l=e=>{let{apiDefinition:t,preDownloading:s,postDownloading:l,onError:n,getFileName:i}=e,a=(0,r.useRef)(null),[o,c]=(0,r.useState)(),[d,u]=(0,r.useState)();return{download:async()=>{try{s();let{data:e}=await t(),r=URL.createObjectURL(new Blob([e]));c(r),u(i()),setTimeout(()=>{var e;null===(e=a.current)||void 0===e||e.click(),l(),URL.revokeObjectURL(r)},1e3)}catch(e){n()}},ref:a,url:o,name:d}}},8516:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(5893),l=s(9774),n=s(8814),i=s(3025),a=s(1163),o=s(7294),c=s(7421),d=s(7249),u=s(5282),m=s(2532),f=s(986),p=s(5050),x=s(3269);function h(){let e=(0,a.useRouter)(),{toast:t}=(0,p.p)(),[s,h]=(0,o.useState)(!0),[v,_]=(0,o.useState)([]),{t:j}=(0,c.$G)("settings"),g=[{accessorKey:"username",header:e=>{let{column:t}=e;return(0,r.jsx)(m.p,{column:t,title:j("roles.details.username")})},title:j("roles.details.username")},{accessorKey:"role_name",header:e=>{let{column:t}=e;return(0,r.jsx)(m.p,{column:t,title:j("roles.details.role_name")})},title:j("roles.details.role_name")},{accessorKey:"perm_type",header:e=>{let{column:t}=e;return(0,r.jsx)(m.p,{column:t,title:j("roles.details.perm_type"),filterPresets:[{key:j("roles.details.liman"),value:j("roles.details.liman")},{key:j("roles.details.server"),value:j("roles.details.server")},{key:j("roles.details.extension"),value:j("roles.details.extension")},{key:j("roles.details.function"),value:j("roles.details.function")}]})},title:j("roles.details.perm_type")},{accessorKey:"perm_value",header:e=>{let{column:t}=e;return(0,r.jsx)(m.p,{column:t,title:j("roles.details.perm_value")})},title:j("roles.details.perm_value")}],w=()=>{l.dJ.get("/settings/roles/details").then(e=>{_(e.data),h(!1)})};(0,o.useEffect)(()=>{w()},[]);let{ref:y,url:k,download:N,name:b}=(0,x.O)({apiDefinition:()=>l.dJ.get("/settings/roles/details/csv",{responseType:"blob"}),preDownloading:()=>t({title:j("information"),description:j("roles.details.download_start")}),postDownloading:()=>t({title:j("information"),description:j("roles.details.download_success")}),onError:()=>{t({title:j("error"),description:j("roles.details.download_error")})},getFileName:()=>"detailed_roles_list_".concat(Date.now(),".csv")});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{title:j("roles.details.title"),description:j("roles.details.description")}),(0,r.jsx)(u.Z,{columns:g,data:v,loading:s,selectable:!1,children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)(d.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",onClick:()=>e.push("/settings/roles"),children:[(0,r.jsx)(n.Z,{className:"mr-2 size-4"}),j("roles.details.back_to_roles")]}),(0,r.jsxs)(d.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",onClick:N,children:[(0,r.jsx)(i.Z,{className:"mr-2 size-4"}),j("roles.details.create_report")]}),(0,r.jsx)("a",{href:k,download:b,className:"hidden",ref:y})]})})]})}}},function(e){e.O(0,[5059,3265,5855,2888,9774,179],function(){return e(e.s=6070)}),_N_E=e.O()}]);