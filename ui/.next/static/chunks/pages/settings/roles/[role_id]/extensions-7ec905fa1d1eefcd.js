(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5838],{8944:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/roles/[role_id]/extensions",function(){return s(7437)}])},7437:function(e,t,s){"use strict";s.r(t);var n=s(5893),i=s(9774),r=s(1163),o=s(7294),l=s(7421),c=s(3559),u=s(986),d=s(9199),a=s(5050),_=s(8946);let x=()=>{let e=(0,r.useRouter)(),t=(0,_.q)(),{t:s}=(0,l.$G)("settings"),{toast:c}=(0,a.p)(),[x,p]=(0,o.useState)([]),[f,h]=(0,o.useState)([]),[g,E]=(0,o.useState)(!0),m=()=>{i.dJ.get("/settings/roles/".concat(e.query.role_id,"/extensions")).then(e=>{p(e.data.extensions),h(e.data.selected),E(!1)})};return(0,o.useEffect)(()=>{e.query.role_id&&m()},[e.query.role_id]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{title:s("roles.extensions.title"),description:s("roles.extensions.description")}),(0,n.jsx)("div",{className:"p-8 pt-0",children:(0,n.jsx)(d.Z,{items:x,selected:f,loading:g,leftTitle:s("roles.extensions.left"),rightTitle:s("roles.extensions.right"),onSave:n=>{let r={extensions:n.map(e=>e.id)};i.dJ.post("/settings/roles/".concat(e.query.role_id,"/extensions"),r).then(()=>{c({title:s("success"),description:s("roles.extensions.success")}),t.emit("REFETCH_ROLE",e.query.role_id),m()}).catch(()=>{c({title:s("error"),description:s("roles.extensions.error"),variant:"destructive"})})},renderName:"display_name"})})]})};x.getLayout=function(e){return(0,n.jsx)(c.Z,{children:e})},t.default=x}},function(e){e.O(0,[4367,2888,9774,179],function(){return e(e.s=8944)}),_N_E=e.O()}]);