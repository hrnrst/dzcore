(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2702],{4969:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/roles/[role_id]/liman",function(){return i(3633)}])},3633:function(e,t,i){"use strict";i.r(t);var s=i(5893),r=i(9774),n=i(1163),l=i(7294),o=i(7421),a=i(3559),c=i(986),u=i(9199),d=i(5050),_=i(8946);let m=()=>{let e=(0,n.useRouter)(),t=(0,_.q)(),{t:i}=(0,o.$G)("settings"),{toast:a}=(0,d.p)(),[m,p]=(0,l.useState)([]),[f,h]=(0,l.useState)([]),[g,E]=(0,l.useState)(!0),q=()=>{r.dJ.get("/settings/roles/".concat(e.query.role_id,"/liman")).then(e=>{p(e.data.permissions),h(e.data.selected),E(!1)})};return(0,l.useEffect)(()=>{e.query.role_id&&q()},[e.query.role_id]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{title:i("roles.liman.title"),description:i("roles.liman.description")}),(0,s.jsx)("div",{className:"p-8 pt-0",children:(0,s.jsx)(u.Z,{items:m,selected:f,loading:g,leftTitle:i("roles.liman.left"),rightTitle:i("roles.liman.right"),onSave:s=>{let n={limanPermissions:s.map(e=>e.id)};r.dJ.post("/settings/roles/".concat(e.query.role_id,"/liman"),n).then(()=>{a({title:i("success"),description:i("roles.liman.success")}),t.emit("REFETCH_ROLE",e.query.role_id),q()}).catch(()=>{a({title:i("error"),description:i("roles.liman.error"),variant:"destructive"})})}})})]})};m.getLayout=function(e){return(0,s.jsx)(a.Z,{children:e})},t.default=m}},function(e){e.O(0,[4367,2888,9774,179],function(){return e(e.s=4969)}),_N_E=e.O()}]);