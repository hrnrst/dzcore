(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7538],{8672:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/roles/[role_id]/servers",function(){return r(5743)}])},5743:function(e,s,r){"use strict";r.r(s);var t=r(5893),i=r(9774),n=r(1163),l=r(7294),o=r(7421),c=r(3559),u=r(986),d=r(9199),a=r(5050),_=r(8946);let v=()=>{let e=(0,n.useRouter)(),s=(0,_.q)(),{t:r}=(0,o.$G)("settings"),{toast:c}=(0,a.p)(),[v,f]=(0,l.useState)([]),[p,h]=(0,l.useState)([]),[g,E]=(0,l.useState)(!0),q=()=>{i.dJ.get("/settings/roles/".concat(e.query.role_id,"/servers")).then(e=>{f(e.data.servers),h(e.data.selected),E(!1)})};return(0,l.useEffect)(()=>{e.query.role_id&&q()},[e.query.role_id]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{title:r("roles.servers.title"),description:r("roles.servers.description")}),(0,t.jsx)("div",{className:"p-8 pt-0",children:(0,t.jsx)(d.Z,{items:v,selected:p,loading:g,leftTitle:r("roles.servers.left"),rightTitle:r("roles.servers.right"),onSave:t=>{let n={servers:t.map(e=>e.id)};i.dJ.post("/settings/roles/".concat(e.query.role_id,"/servers"),n).then(()=>{c({title:r("success"),description:r("roles.servers.success")}),s.emit("REFETCH_ROLE",e.query.role_id),q()}).catch(()=>{c({title:r("error"),description:r("roles.servers.error"),variant:"destructive"})})}})})]})};v.getLayout=function(e){return(0,t.jsx)(c.Z,{children:e})},s.default=v}},function(e){e.O(0,[4367,2888,9774,179],function(){return e(e.s=8672)}),_N_E=e.O()}]);