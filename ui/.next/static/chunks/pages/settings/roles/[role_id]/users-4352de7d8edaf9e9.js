(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3018],{2501:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/roles/[role_id]/users",function(){return t(8378)}])},8378:function(e,s,t){"use strict";t.r(s);var r=t(5893),i=t(9774),u=t(1163),n=t(7294),l=t(7421),o=t(3559),c=t(986),d=t(9199),a=t(5050),_=t(8946);let f=()=>{let e=(0,u.useRouter)(),s=(0,_.q)(),{t}=(0,l.$G)("settings"),{toast:o}=(0,a.p)(),[f,p]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[E,q]=(0,n.useState)(!0),w=()=>{i.dJ.get("/settings/roles/".concat(e.query.role_id,"/users")).then(e=>{p(e.data.users),g(e.data.selected),q(!1)})};return(0,n.useEffect)(()=>{e.query.role_id&&w()},[e.query.role_id]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{title:t("roles.users.title"),description:t("roles.users.description")}),(0,r.jsx)("div",{className:"p-8 pt-0",children:(0,r.jsx)(d.Z,{items:f,selected:h,loading:E,leftTitle:t("roles.users.left"),rightTitle:t("roles.users.right"),onSave:r=>{let u={users:r.map(e=>e.id)};i.dJ.post("/settings/roles/".concat(e.query.role_id,"/users"),u).then(()=>{o({title:t("success"),description:t("roles.users.success")}),s.emit("REFETCH_ROLE",e.query.role_id),w()}).catch(()=>{o({title:t("error"),description:t("roles.users.error"),variant:"destructive"})})}})})]})};f.getLayout=function(e){return(0,r.jsx)(o.Z,{children:e})},s.default=f}},function(e){e.O(0,[4367,2888,9774,179],function(){return e(e.s=2501)}),_N_E=e.O()}]);