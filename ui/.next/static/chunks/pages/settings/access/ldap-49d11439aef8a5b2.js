(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6005],{9378:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("BookKey",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H14",key:"1gfsgw"}],["path",{d:"M20 8v14H6.5a2.5 2.5 0 0 1 0-5H20",key:"zb0ngp"}],["circle",{cx:"14",cy:"8",r:"2",key:"u49eql"}],["path",{d:"m20 2-4.5 4.5",key:"1sppr8"}],["path",{d:"m19 3 1 1",key:"ze14oc"}]])},7130:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("FolderGit2",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["path",{d:"M18 19c-2.8 0-5-2.2-5-5v8",key:"pkpw2h"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]])},3696:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8850:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("ScanFace",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]])},4632:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]])},1442:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(5711).Z)("UserRoundCheck",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]])},2376:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/access/ldap",function(){return s(5465)}])},8241:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var r=s(5893),a=s(9774),n=s(4632),c=s(7130),i=s(8850),l=s(9378),d=s(7294),o=s(7421),u=s(9999);function p(e){let{children:t}=e,[s,p]=(0,d.useState)(!1),{t:f}=(0,o.$G)("settings"),m=[{id:"audit",icon:n.Z,title:f("access.audit.title"),description:f("access.audit.description"),href:"/settings/access/audit",enabled:!0},{id:"ldap",icon:c.Z,title:f("access.ldap.page_header.title"),description:f("access.ldap.page_header.description"),href:"/settings/access/ldap",enabled:!0},{id:"permissions_ldap",icon:i.Z,title:f("access.permissions.title"),description:f("access.permissions.description"),href:"/settings/access/permissions_ldap",enabled:s},{id:"keycloak",icon:l.Z,title:f("access.keycloak.page_header.title"),description:f("access.keycloak.page_header.description"),href:"/settings/access/keycloak",enabled:!0}];return(0,d.useEffect)(()=>{a.dJ.get("/settings/access/ldap/configuration").then(e=>{e.data.active&&p(!0)})},[]),(0,r.jsxs)("div",{className:"grid grid-cols-5",style:{height:"var(--container-height)"},children:[(0,r.jsxs)("div",{className:"col-span-1 border-r",children:[(0,r.jsx)("div",{className:"flex items-center border-b p-8 text-2xl font-bold",children:f("access.title")}),m.map(e=>(0,r.jsx)(u.Z,{title:e.title,description:e.description,icon:e.icon,href:e.href,enabled:e.enabled},e.id))]}),(0,r.jsx)("div",{className:"col-span-4",children:t})]})}},2766:function(e,t,s){"use strict";s.d(t,{NI:function(){return x},Wi:function(){return u},l0:function(){return d},lX:function(){return h},pf:function(){return g},xJ:function(){return m},zG:function(){return v}});var r=s(5893),a=s(7294),n=s(8426),c=s(7536),i=s(7327),l=s(2297);let d=c.RV,o=a.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(o.Provider,{value:{name:t.name},children:(0,r.jsx)(c.Qr,{...t})})},p=()=>{let e=a.useContext(o),t=a.useContext(f),{getFieldState:s,formState:r}=(0,c.Gc)(),n=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},f=a.createContext({}),m=a.forwardRef((e,t)=>{let{className:s,...n}=e,c=a.useId();return(0,r.jsx)(f.Provider,{value:{id:c},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",s),...n})})});m.displayName="FormItem";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e,{error:n,formItemId:c}=p();return(0,r.jsx)(l._,{ref:t,className:(0,i.cn)(n&&"text-destructive",s),htmlFor:c,...a})});h.displayName="FormLabel";let x=a.forwardRef((e,t)=>{let{...s}=e,{error:a,formItemId:c,formDescriptionId:i,formMessageId:l}=p();return(0,r.jsx)(n.g7,{ref:t,id:c,"aria-describedby":a?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!a,...s})});x.displayName="FormControl";let g=a.forwardRef((e,t)=>{let{className:s,...a}=e,{formDescriptionId:n}=p();return(0,r.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});g.displayName="FormDescription";let v=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e,{error:c,formMessageId:l}=p(),d=c?String(null==c?void 0:c.message):a;return d?(0,r.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm font-medium text-destructive",s),...n,children:d}):null});v.displayName="FormMessage"},9999:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(5893),a=s(1664),n=s.n(a),c=s(1163),i=s(7327);function l(e){return(0,r.jsxs)(r.Fragment,{children:[e.enabled&&(0,r.jsx)(n(),{href:e.href,children:(0,r.jsx)(d,{...e})}),!e.enabled&&(0,r.jsx)(d,{...e})]})}function d(e){let t=(0,c.useRouter)();return(0,r.jsxs)("div",{className:(0,i.cn)("flex w-full gap-6 border-b p-6",t.asPath.includes(e.href)&&"bg-secondary/50 dark:bg-secondary/5",!e.enabled&&"cursor-not-allowed"),children:[(0,r.jsx)("div",{className:"icon self-start rounded-md bg-secondary p-3 dark:bg-secondary/10",children:(0,r.jsx)(e.icon,{className:"size-5 text-secondary-foreground/70 dark:text-white/70"})}),(0,r.jsxs)("div",{className:(0,i.cn)(!e.enabled&&"text-muted-foreground"),children:[(0,r.jsx)("h3",{className:"font-semibold tracking-tight",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]})}},2297:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var r=s(5893),a=s(7294),n=s(9102),c=s(5139),i=s(7327);let l=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,i.cn)(l(),s),...a})});d.displayName=n.f.displayName},986:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(5893),a=s(9008),n=s.n(a);function c(e){let{title:t,description:s,rightSide:a}=e;return(0,r.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"".concat(t," | DZ")})}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:t}),(0,r.jsx)("p",{className:"text-muted-foreground",children:s})]}),a&&(0,r.jsx)("div",{className:"flex items-center",children:a})]})]})}},1250:function(e,t,s){"use strict";s.d(t,{r:function(){return N}});var r=s(5893),a=s(7294),n=s(7462),c=s(6206),i=s(8771),l=s(5360),d=s(7342),o=s(7898),u=s(7546),p=s(5320);let f="Switch",[m,h]=(0,l.b)(f),[x,g]=m(f),v=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:s,name:r,checked:l,defaultChecked:o,required:u,disabled:f,value:m="on",onCheckedChange:h,...g}=e,[v,b]=(0,a.useState)(null),k=(0,i.e)(t,e=>b(e)),N=(0,a.useRef)(!1),w=!v||!!v.closest("form"),[_=!1,Z]=(0,d.T)({prop:l,defaultProp:o,onChange:h});return(0,a.createElement)(x,{scope:s,checked:_,disabled:f},(0,a.createElement)(p.WV.button,(0,n.Z)({type:"button",role:"switch","aria-checked":_,"aria-required":u,"data-state":y(_),"data-disabled":f?"":void 0,disabled:f,value:m},g,{ref:k,onClick:(0,c.M)(e.onClick,e=>{Z(e=>!e),w&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),w&&(0,a.createElement)(j,{control:v,bubbles:!N.current,name:r,value:m,checked:_,required:u,disabled:f,style:{transform:"translateX(-100%)"}}))}),b=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:s,...r}=e,c=g("SwitchThumb",s);return(0,a.createElement)(p.WV.span,(0,n.Z)({"data-state":y(c.checked),"data-disabled":c.disabled?"":void 0},r,{ref:t}))}),j=e=>{let{control:t,checked:s,bubbles:r=!0,...c}=e,i=(0,a.useRef)(null),l=(0,o.D)(s),d=(0,u.t)(t);return(0,a.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&t){let a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[l,s,r]),(0,a.createElement)("input",(0,n.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:s},c,{tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return e?"checked":"unchecked"}var k=s(7327);let N=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(v,{className:(0,k.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:(0,r.jsx)(b,{className:(0,k.cn)("pointer-events-none block size-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});N.displayName=v.displayName},5050:function(e,t,s){"use strict";s.d(t,{p:function(){return n}}),s(7294);var r=s(7421),a=s(4712);function n(){let{t:e}=(0,r.$G)("common");return{toast:t=>{let{title:s,description:r,variant:n}=t,c={description:r,duration:6e3,dismissible:!0},i="";switch(s==e("information")?i="info":s==e("success")?i="success":s==e("error")?i="error":s==e("warning")&&(i="warning"),n&&(i=n),i){case"success":return a.A.success(s,c);case"error":case"destructive":return a.A.error(s,c);case"warning":return a.A.warning(s,c);case"info":return a.A.info(s,c);default:return(0,a.A)(s,c)}}}}},5465:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var r=s(5893),a=s(9774),n=s(6312),c=s(443);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(5711).Z)("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);var l=s(6953),d=s(1442),o=s(3696),u=s(7294),p=s(7536),f=s(7421),m=s(1604),h=s(8241),x=s(2766),g=s(7249),v=s(5037),b=s(2297),j=s(986),y=s(1250),k=s(5050),N=s(7327);let w=()=>{let{toast:e}=(0,k.p)(),{t}=(0,f.$G)("settings"),s=m.Ry({server_address:m.Z_().nonempty(t("access.ldap.formScema.address")),objectguid:m.Z_().nonempty(t("access.ldap.formScema.objectguid")),mail:m.Z_().nonempty(t("access.ldap.formScema.mail")),active:m.O7()}),h=(0,p.cI)({resolver:(0,n.F)(s)});return(0,u.useEffect)(()=>{a.dJ.get("/settings/access/ldap/configuration").then(e=>{h.reset(e.data)})},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{title:t("access.ldap.page_header.title"),description:t("access.ldap.page_header.description")}),(0,r.jsx)("div",{className:"px-8",children:(0,r.jsx)(x.l0,{...h,children:(0,r.jsxs)("form",{onSubmit:h.handleSubmit(s=>{a.dJ.post("/settings/access/ldap/configuration",s).then(()=>{e({title:t("access.ldap.toast.success.title"),description:t("access.ldap.toast.success.description")})}).catch(s=>{(0,N.FB)(s,h)||e({title:t("access.ldap.toast.success.description"),description:t("access.ldap.toast.fail.description"),variant:"destructive"})})}),className:"space-y-5",children:[(0,r.jsx)(x.Wi,{control:h.control,name:"server_address",render:e=>{let{field:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)(b._,{htmlFor:"server_address",children:t("access.ldap.forms.server_address")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(v.I,{id:"server_address",className:"pl-10",placeholder:"ldaps.fabrikam.com",...s}),(0,r.jsx)(c.Z,{className:"pointer-events-none absolute left-3 top-3 size-4 text-muted-foreground"}),(0,r.jsx)("small",{className:"italic text-muted-foreground",children:t("access.ldap.forms.server_info")})]}),(0,r.jsx)(x.zG,{})]})}}),(0,r.jsx)(x.Wi,{control:h.control,name:"objectguid",render:e=>{let{field:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)(b._,{htmlFor:"objectguid",children:t("access.ldap.forms.object_guid")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(v.I,{id:"objectguid",className:"pl-10",placeholder:"objectguid",...s}),(0,r.jsx)(i,{className:"pointer-events-none absolute left-3 top-3 size-4 text-muted-foreground"}),(0,r.jsx)("small",{className:"italic text-muted-foreground",children:t("access.ldap.forms.object_guid_info")})]}),(0,r.jsx)(x.zG,{})]})}}),(0,r.jsx)(x.Wi,{control:h.control,name:"mail",render:e=>{let{field:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)(b._,{htmlFor:"mail",children:t("access.ldap.forms.mail")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(v.I,{id:"mail",className:"pl-10",placeholder:"mail",...s}),(0,r.jsx)(l.Z,{className:"pointer-events-none absolute left-3 top-3 size-4 text-muted-foreground"}),(0,r.jsx)("small",{className:"italic text-muted-foreground",children:t("access.ldap.forms.mail_info")})]}),(0,r.jsx)(x.zG,{})]})}}),(0,r.jsx)(x.Wi,{control:h.control,name:"active",render:e=>{let{field:s}=e;return(0,r.jsxs)(x.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex space-x-3 space-y-0.5",children:[(0,r.jsx)(d.Z,{className:"size-6 text-muted-foreground"}),(0,r.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,r.jsx)(x.lX,{children:t("access.ldap.forms.integration")}),(0,r.jsx)(x.pf,{children:t("access.ldap.forms.integration_info")})]})]}),(0,r.jsx)(x.NI,{className:"mt-[0!important]",children:(0,r.jsx)(y.r,{checked:s.value,onCheckedChange:s.onChange})})]})}}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(g.z,{type:"submit",children:[(0,r.jsx)(o.Z,{className:"mr-2 size-4"}),t("access.ldap.forms.save")]})})]})})})]})};w.getLayout=function(e){return(0,r.jsx)(h.Z,{children:e})};var _=w},7898:function(e,t,s){"use strict";s.d(t,{D:function(){return a}});var r=s(7294);function a(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}},function(e){e.O(0,[3051,2888,9774,179],function(){return e(e.s=2376)}),_N_E=e.O()}]);