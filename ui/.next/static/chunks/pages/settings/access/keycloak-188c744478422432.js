(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3191],{9378:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5711).Z)("BookKey",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H14",key:"1gfsgw"}],["path",{d:"M20 8v14H6.5a2.5 2.5 0 0 1 0-5H20",key:"zb0ngp"}],["circle",{cx:"14",cy:"8",r:"2",key:"u49eql"}],["path",{d:"m20 2-4.5 4.5",key:"1sppr8"}],["path",{d:"m19 3 1 1",key:"ze14oc"}]])},7130:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5711).Z)("FolderGit2",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["path",{d:"M18 19c-2.8 0-5-2.2-5-5v8",key:"pkpw2h"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]])},3696:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5711).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8850:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5711).Z)("ScanFace",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]])},4632:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5711).Z)("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]])},1442:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5711).Z)("UserRoundCheck",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]])},1134:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/access/keycloak",function(){return r(2082)}])},8241:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var s=r(5893),c=r(9774),a=r(4632),n=r(7130),i=r(8850),l=r(9378),o=r(7294),d=r(7421),u=r(9999);function f(e){let{children:t}=e,[r,f]=(0,o.useState)(!1),{t:m}=(0,d.$G)("settings"),h=[{id:"audit",icon:a.Z,title:m("access.audit.title"),description:m("access.audit.description"),href:"/settings/access/audit",enabled:!0},{id:"ldap",icon:n.Z,title:m("access.ldap.page_header.title"),description:m("access.ldap.page_header.description"),href:"/settings/access/ldap",enabled:!0},{id:"permissions_ldap",icon:i.Z,title:m("access.permissions.title"),description:m("access.permissions.description"),href:"/settings/access/permissions_ldap",enabled:r},{id:"keycloak",icon:l.Z,title:m("access.keycloak.page_header.title"),description:m("access.keycloak.page_header.description"),href:"/settings/access/keycloak",enabled:!0}];return(0,o.useEffect)(()=>{c.dJ.get("/settings/access/ldap/configuration").then(e=>{e.data.active&&f(!0)})},[]),(0,s.jsxs)("div",{className:"grid grid-cols-5",style:{height:"var(--container-height)"},children:[(0,s.jsxs)("div",{className:"col-span-1 border-r",children:[(0,s.jsx)("div",{className:"flex items-center border-b p-8 text-2xl font-bold",children:m("access.title")}),h.map(e=>(0,s.jsx)(u.Z,{title:e.title,description:e.description,icon:e.icon,href:e.href,enabled:e.enabled},e.id))]}),(0,s.jsx)("div",{className:"col-span-4",children:t})]})}},2766:function(e,t,r){"use strict";r.d(t,{NI:function(){return x},Wi:function(){return u},l0:function(){return o},lX:function(){return p},pf:function(){return k},xJ:function(){return h},zG:function(){return y}});var s=r(5893),c=r(7294),a=r(8426),n=r(7536),i=r(7327),l=r(2297);let o=n.RV,d=c.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(d.Provider,{value:{name:t.name},children:(0,s.jsx)(n.Qr,{...t})})},f=()=>{let e=c.useContext(d),t=c.useContext(m),{getFieldState:r,formState:s}=(0,n.Gc)(),a=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},m=c.createContext({}),h=c.forwardRef((e,t)=>{let{className:r,...a}=e,n=c.useId();return(0,s.jsx)(m.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...a})})});h.displayName="FormItem";let p=c.forwardRef((e,t)=>{let{className:r,...c}=e,{error:a,formItemId:n}=f();return(0,s.jsx)(l._,{ref:t,className:(0,i.cn)(a&&"text-destructive",r),htmlFor:n,...c})});p.displayName="FormLabel";let x=c.forwardRef((e,t)=>{let{...r}=e,{error:c,formItemId:n,formDescriptionId:i,formMessageId:l}=f();return(0,s.jsx)(a.g7,{ref:t,id:n,"aria-describedby":c?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!c,...r})});x.displayName="FormControl";let k=c.forwardRef((e,t)=>{let{className:r,...c}=e,{formDescriptionId:a}=f();return(0,s.jsx)("p",{ref:t,id:a,className:(0,i.cn)("text-sm text-muted-foreground",r),...c})});k.displayName="FormDescription";let y=c.forwardRef((e,t)=>{let{className:r,children:c,...a}=e,{error:n,formMessageId:l}=f(),o=n?String(null==n?void 0:n.message):c;return o?(0,s.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm font-medium text-destructive",r),...a,children:o}):null});y.displayName="FormMessage"},9999:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(5893),c=r(1664),a=r.n(c),n=r(1163),i=r(7327);function l(e){return(0,s.jsxs)(s.Fragment,{children:[e.enabled&&(0,s.jsx)(a(),{href:e.href,children:(0,s.jsx)(o,{...e})}),!e.enabled&&(0,s.jsx)(o,{...e})]})}function o(e){let t=(0,n.useRouter)();return(0,s.jsxs)("div",{className:(0,i.cn)("flex w-full gap-6 border-b p-6",t.asPath.includes(e.href)&&"bg-secondary/50 dark:bg-secondary/5",!e.enabled&&"cursor-not-allowed"),children:[(0,s.jsx)("div",{className:"icon self-start rounded-md bg-secondary p-3 dark:bg-secondary/10",children:(0,s.jsx)(e.icon,{className:"size-5 text-secondary-foreground/70 dark:text-white/70"})}),(0,s.jsxs)("div",{className:(0,i.cn)(!e.enabled&&"text-muted-foreground"),children:[(0,s.jsx)("h3",{className:"font-semibold tracking-tight",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]})}},2297:function(e,t,r){"use strict";r.d(t,{_:function(){return o}});var s=r(5893),c=r(7294),a=r(9102),n=r(5139),i=r(7327);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=c.forwardRef((e,t)=>{let{className:r,...c}=e;return(0,s.jsx)(a.f,{ref:t,className:(0,i.cn)(l(),r),...c})});o.displayName=a.f.displayName},986:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(5893),c=r(9008),a=r.n(c);function n(e){let{title:t,description:r,rightSide:c}=e;return(0,s.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,s.jsx)(a(),{children:(0,s.jsx)("title",{children:"".concat(t," | DZ")})}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:t}),(0,s.jsx)("p",{className:"text-muted-foreground",children:r})]}),c&&(0,s.jsx)("div",{className:"flex items-center",children:c})]})]})}},1250:function(e,t,r){"use strict";r.d(t,{r:function(){return _}});var s=r(5893),c=r(7294),a=r(7462),n=r(6206),i=r(8771),l=r(5360),o=r(7342),d=r(7898),u=r(7546),f=r(5320);let m="Switch",[h,p]=(0,l.b)(m),[x,k]=h(m),y=(0,c.forwardRef)((e,t)=>{let{__scopeSwitch:r,name:s,checked:l,defaultChecked:d,required:u,disabled:m,value:h="on",onCheckedChange:p,...k}=e,[y,j]=(0,c.useState)(null),b=(0,i.e)(t,e=>j(e)),_=(0,c.useRef)(!1),N=!y||!!y.closest("form"),[w=!1,Z]=(0,o.T)({prop:l,defaultProp:d,onChange:p});return(0,c.createElement)(x,{scope:r,checked:w,disabled:m},(0,c.createElement)(f.WV.button,(0,a.Z)({type:"button",role:"switch","aria-checked":w,"aria-required":u,"data-state":g(w),"data-disabled":m?"":void 0,disabled:m,value:h},k,{ref:b,onClick:(0,n.M)(e.onClick,e=>{Z(e=>!e),N&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})})),N&&(0,c.createElement)(v,{control:y,bubbles:!_.current,name:s,value:h,checked:w,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))}),j=(0,c.forwardRef)((e,t)=>{let{__scopeSwitch:r,...s}=e,n=k("SwitchThumb",r);return(0,c.createElement)(f.WV.span,(0,a.Z)({"data-state":g(n.checked),"data-disabled":n.disabled?"":void 0},s,{ref:t}))}),v=e=>{let{control:t,checked:r,bubbles:s=!0,...n}=e,i=(0,c.useRef)(null),l=(0,d.D)(r),o=(0,u.t)(t);return(0,c.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let c=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(c)}},[l,r,s]),(0,c.createElement)("input",(0,a.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:r},n,{tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function g(e){return e?"checked":"unchecked"}var b=r(7327);let _=c.forwardRef((e,t)=>{let{className:r,...c}=e;return(0,s.jsx)(y,{className:(0,b.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...c,ref:t,children:(0,s.jsx)(j,{className:(0,b.cn)("pointer-events-none block size-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});_.displayName=y.displayName},5050:function(e,t,r){"use strict";r.d(t,{p:function(){return a}}),r(7294);var s=r(7421),c=r(4712);function a(){let{t:e}=(0,s.$G)("common");return{toast:t=>{let{title:r,description:s,variant:a}=t,n={description:s,duration:6e3,dismissible:!0},i="";switch(r==e("information")?i="info":r==e("success")?i="success":r==e("error")?i="error":r==e("warning")&&(i="warning"),a&&(i=a),i){case"success":return c.A.success(r,n);case"error":case"destructive":return c.A.error(r,n);case"warning":return c.A.warning(r,n);case"info":return c.A.info(r,n);default:return(0,c.A)(r,n)}}}}},2082:function(e,t,r){"use strict";r.r(t);var s=r(5893),c=r(9774),a=r(6312),n=r(1442),i=r(3696),l=r(7294),o=r(7536),d=r(7421),u=r(1604),f=r(8241),m=r(2766),h=r(7249),p=r(5037),x=r(2297),k=r(986),y=r(1250),j=r(5050),v=r(7327);let g=()=>{let{toast:e}=(0,j.p)(),{t}=(0,d.$G)("settings"),r=u.Ry({client_id:u.Z_().nonempty(t("access.keycloak.formScema.client_id")),client_secret:u.Z_().nonempty(t("access.keycloak.formScema.client_secret")),redirect_uri:u.Z_().nonempty(t("access.keycloak.formScema.redirect_uri")),base_url:u.Z_().nonempty(t("access.keycloak.formScema.base_url")),realm:u.Z_().nonempty(t("access.keycloak.formScema.realm")),active:u.O7()}),f=(0,o.cI)({resolver:(0,a.F)(r)});return(0,l.useEffect)(()=>{c.dJ.get("/settings/access/keycloak/configuration").then(e=>{f.reset(e.data)})},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.Z,{title:t("access.keycloak.page_header.title"),description:t("access.keycloak.page_header.description")}),(0,s.jsx)("div",{className:"px-8",children:(0,s.jsx)(m.l0,{...f,children:(0,s.jsxs)("form",{onSubmit:f.handleSubmit(r=>{c.dJ.post("/settings/access/keycloak/configuration",r).then(()=>{e({title:t("success"),description:t("access.keycloak.toast.success.description")})}).catch(r=>{(0,v.FB)(r,f)||e({title:t("error"),description:t("access.keycloak.toast.fail.description"),variant:"destructive"})})}),className:"space-y-5",children:[(0,s.jsx)(m.Wi,{control:f.control,name:"client_id",render:e=>{let{field:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(x._,{htmlFor:"client_id",children:t("access.keycloak.form.client_id")}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.I,{id:"client_id",placeholder:"my-keycloak-client",...r}),(0,s.jsx)("small",{className:"italic text-muted-foreground",children:t("access.keycloak.form.info_id")})]}),(0,s.jsx)(m.zG,{})]})}}),(0,s.jsx)(m.Wi,{control:f.control,name:"client_secret",render:e=>{let{field:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(x._,{htmlFor:"client_secret",children:t("access.keycloak.form.client_secret")}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.I,{id:"client_secret",placeholder:"******************",type:"password",...r}),(0,s.jsx)("small",{className:"italic text-muted-foreground",children:t("access.keycloak.form.info_secret")})]}),(0,s.jsx)(m.zG,{})]})}}),(0,s.jsx)(m.Wi,{control:f.control,name:"redirect_uri",render:e=>{let{field:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(x._,{htmlFor:"redirect_uri",children:t("access.keycloak.form.redirect_url")}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.I,{id:"redirect_uri",placeholder:"https://liman.fabrikam.com/keycloak/callback",...r}),(0,s.jsx)("small",{className:"italic text-muted-foreground",children:t("access.keycloak.form.redirect_info")})]}),(0,s.jsx)(m.zG,{})]})}}),(0,s.jsx)(m.Wi,{control:f.control,name:"base_url",render:e=>{let{field:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(x._,{htmlFor:"base_url",children:t("access.keycloak.form.base_url")}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.I,{id:"base_url",placeholder:"https://keycloak.fabrikam.com",...r}),(0,s.jsx)("small",{className:"italic text-muted-foreground",children:t("access.keycloak.form.base_info")})]}),(0,s.jsx)(m.zG,{})]})}}),(0,s.jsx)(m.Wi,{control:f.control,name:"realm",render:e=>{let{field:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(x._,{htmlFor:"realm",children:t("access.keycloak.form.realm")}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.I,{id:"realm",placeholder:"my-sweet-realm",...r}),(0,s.jsx)("small",{className:"italic text-muted-foreground",children:t("access.keycloak.form.realm_info")})]}),(0,s.jsx)(m.zG,{})]})}}),(0,s.jsx)(m.Wi,{control:f.control,name:"active",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex space-x-3 space-y-0.5",children:[(0,s.jsx)(n.Z,{className:"size-6 text-muted-foreground"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,s.jsx)(m.lX,{children:t("access.keycloak.form.integration")}),(0,s.jsx)(m.pf,{children:t("access.keycloak.form.integration_info")})]})]}),(0,s.jsx)(m.NI,{className:"mt-[0!important]",children:(0,s.jsx)(y.r,{checked:r.value,onCheckedChange:r.onChange})})]})}}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(h.z,{type:"submit",children:[(0,s.jsx)(i.Z,{className:"mr-2 size-4"}),t("access.keycloak.form.save")]})})]})})})]})};g.getLayout=function(e){return(0,s.jsx)(f.Z,{children:e})},t.default=g},7898:function(e,t,r){"use strict";r.d(t,{D:function(){return c}});var s=r(7294);function c(e){let t=(0,s.useRef)({value:e,previous:e});return(0,s.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}},function(e){e.O(0,[3051,2888,9774,179],function(){return e(e.s=1134)}),_N_E=e.O()}]);