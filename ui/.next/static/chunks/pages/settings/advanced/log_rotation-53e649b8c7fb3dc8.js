(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2758],{3696:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(5711).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},4632:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(5711).Z)("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]])},7839:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/advanced/log_rotation",function(){return r(7061)}])},3051:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(5893),a=r(5711);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),i=(0,a.Z)("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);var d=r(4632),c=r(5358),o=r(7421),l=r(9999);function u(e){let{children:t}=e,{t:r}=(0,o.$G)("settings"),a=[{id:"certificates",icon:s,title:r("advanced.certificates.title"),description:r("advanced.certificates.description"),href:"/settings/advanced/certificates",enabled:!0},{id:"dns",icon:i,title:r("advanced.dns.title"),description:r("advanced.dns.description"),href:"/settings/advanced/dns",enabled:!0},{id:"log_rotation",icon:d.Z,title:r("advanced.logrotation.title"),description:r("advanced.logrotation.description"),href:"/settings/advanced/log_rotation",enabled:!0},{id:"tweaks",icon:c.Z,title:r("advanced.tweaks.title"),description:r("advanced.tweaks.description"),href:"/settings/advanced/tweaks",enabled:!0}];return(0,n.jsxs)("div",{className:"grid grid-cols-4",style:{height:"var(--container-height)"},children:[(0,n.jsxs)("div",{className:"col-span-1 border-r",children:[(0,n.jsx)("div",{className:"flex items-center border-b p-8 text-2xl font-bold",children:r("advanced.title")}),a.map(e=>(0,n.jsx)(l.Z,{title:e.title,description:e.description,icon:e.icon,href:e.href,enabled:e.enabled},e.id))]}),(0,n.jsx)("div",{className:"col-span-3",children:t})]})}},2766:function(e,t,r){"use strict";r.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return o},lX:function(){return x},pf:function(){return v},xJ:function(){return p},zG:function(){return g}});var n=r(5893),a=r(7294),s=r(8426),i=r(7536),d=r(7327),c=r(2297);let o=i.RV,l=a.createContext({}),u=e=>{let{...t}=e;return(0,n.jsx)(l.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},f=()=>{let e=a.useContext(l),t=a.useContext(m),{getFieldState:r,formState:n}=(0,i.Gc)(),s=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=t;return{id:d,name:e.name,formItemId:"".concat(d,"-form-item"),formDescriptionId:"".concat(d,"-form-item-description"),formMessageId:"".concat(d,"-form-item-message"),...s}},m=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:r,...s}=e,i=a.useId();return(0,n.jsx)(m.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,d.cn)("space-y-2",r),...s})})});p.displayName="FormItem";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:s,formItemId:i}=f();return(0,n.jsx)(c._,{ref:t,className:(0,d.cn)(s&&"text-destructive",r),htmlFor:i,...a})});x.displayName="FormLabel";let h=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:i,formDescriptionId:d,formMessageId:c}=f();return(0,n.jsx)(s.g7,{ref:t,id:i,"aria-describedby":a?"".concat(d," ").concat(c):"".concat(d),"aria-invalid":!!a,...r})});h.displayName="FormControl";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:s}=f();return(0,n.jsx)("p",{ref:t,id:s,className:(0,d.cn)("text-sm text-muted-foreground",r),...a})});v.displayName="FormDescription";let g=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e,{error:i,formMessageId:c}=f(),o=i?String(null==i?void 0:i.message):a;return o?(0,n.jsx)("p",{ref:t,id:c,className:(0,d.cn)("text-sm font-medium text-destructive",r),...s,children:o}):null});g.displayName="FormMessage"},9999:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5893),a=r(1664),s=r.n(a),i=r(1163),d=r(7327);function c(e){return(0,n.jsxs)(n.Fragment,{children:[e.enabled&&(0,n.jsx)(s(),{href:e.href,children:(0,n.jsx)(o,{...e})}),!e.enabled&&(0,n.jsx)(o,{...e})]})}function o(e){let t=(0,i.useRouter)();return(0,n.jsxs)("div",{className:(0,d.cn)("flex w-full gap-6 border-b p-6",t.asPath.includes(e.href)&&"bg-secondary/50 dark:bg-secondary/5",!e.enabled&&"cursor-not-allowed"),children:[(0,n.jsx)("div",{className:"icon self-start rounded-md bg-secondary p-3 dark:bg-secondary/10",children:(0,n.jsx)(e.icon,{className:"size-5 text-secondary-foreground/70 dark:text-white/70"})}),(0,n.jsxs)("div",{className:(0,d.cn)(!e.enabled&&"text-muted-foreground"),children:[(0,n.jsx)("h3",{className:"font-semibold tracking-tight",children:e.title}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]})}},2297:function(e,t,r){"use strict";r.d(t,{_:function(){return o}});var n=r(5893),a=r(7294),s=r(9102),i=r(5139),d=r(7327);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.f,{ref:t,className:(0,d.cn)(c(),r),...a})});o.displayName=s.f.displayName},986:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5893),a=r(9008),s=r.n(a);function i(e){let{title:t,description:r,rightSide:a}=e;return(0,n.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:"".concat(t," | DZ")})}),(0,n.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:t}),(0,n.jsx)("p",{className:"text-muted-foreground",children:r})]}),a&&(0,n.jsx)("div",{className:"flex items-center",children:a})]})]})}},4462:function(e,t,r){"use strict";r.d(t,{Bw:function(){return m},DI:function(){return l},Ph:function(){return o},Ql:function(){return x},i4:function(){return f},ki:function(){return u},n5:function(){return p}});var n=r(5893),a=r(7294),s=r(5059),i=r(8971),d=r(3742),c=r(7327);let o=s.fC,l=s.ZA,u=s.B4,f=a.forwardRef((e,t)=>{let{className:r,children:a,...d}=e;return(0,n.jsxs)(s.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...d,children:[a,(0,n.jsx)(s.JO,{asChild:!0,children:(0,n.jsx)(i.Z,{className:"size-4 opacity-50"})})]})});f.displayName=s.xz.displayName;let m=a.forwardRef((e,t)=>{let{className:r,children:a,position:i="popper",...d}=e;return(0,n.jsx)(s.h_,{children:(0,n.jsx)(s.VY,{ref:t,className:(0,c.cn)("relative z-50 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...d,children:(0,n.jsx)(s.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a})})})});m.displayName=s.VY.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})});p.displayName=s.__.displayName;let x=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,n.jsxs)(s.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex size-3.5 items-center justify-center",children:(0,n.jsx)(s.wU,{children:(0,n.jsx)(d.Z,{className:"size-4"})})}),(0,n.jsx)(s.eT,{children:a})]})});x.displayName=s.ck.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=s.Z0.displayName},5050:function(e,t,r){"use strict";r.d(t,{p:function(){return s}}),r(7294);var n=r(7421),a=r(4712);function s(){let{t:e}=(0,n.$G)("common");return{toast:t=>{let{title:r,description:n,variant:s}=t,i={description:n,duration:6e3,dismissible:!0},d="";switch(r==e("information")?d="info":r==e("success")?d="success":r==e("error")?d="error":r==e("warning")&&(d="warning"),s&&(d=s),d){case"success":return a.A.success(r,i);case"error":case"destructive":return a.A.error(r,i);case"warning":return a.A.warning(r,i);case"info":return a.A.info(r,i);default:return(0,a.A)(r,i)}}}}},7061:function(e,t,r){"use strict";r.r(t);var n=r(5893),a=r(9774),s=r(6312),i=r(3696),d=r(7294),c=r(7536),o=r(7421),l=r(1604),u=r(3051),f=r(2766),m=r(7249),p=r(5037),x=r(2297),h=r(986),v=r(4462),g=r(5050),j=r(7327);let y=()=>{let{t:e}=(0,o.$G)("settings"),{toast:t}=(0,g.p)(),r=l.Ry({type:l.Z_().min(1),ip_address:l.Z_().min(1),port:l.Z_().min(1)}),u=(0,c.cI)({resolver:(0,s.F)(r)});return(0,d.useEffect)(()=>{a.dJ.get("/settings/advanced/log_rotation").then(e=>{u.reset(e.data)}).catch(r=>{t({title:e("error"),description:e("advanced.logrotation.error"),variant:"destructive"})})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{title:e("advanced.logrotation.title"),description:e("advanced.logrotation.description")}),(0,n.jsx)("div",{className:"px-8",children:(0,n.jsx)(f.l0,{...u,children:(0,n.jsxs)("form",{onSubmit:u.handleSubmit(r=>{a.dJ.post("/settings/advanced/log_rotation",r).then(()=>{t({title:e("success"),description:e("advanced.logrotation.success")})}).catch(r=>{(0,j.FB)(r,u)||t({title:e("error"),description:e("advanced.logrotation.error"),variant:"destructive"})})}),className:"space-y-5",children:[(0,n.jsx)(f.Wi,{control:u.control,name:"ip_address",render:t=>{let{field:r}=t;return(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(x._,{htmlFor:"ip_address",children:e("advanced.logrotation.ip_address")}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(p.I,{id:"ip_address",...r})}),(0,n.jsx)(f.zG,{})]})}}),(0,n.jsx)(f.Wi,{control:u.control,name:"port",render:e=>{let{field:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(x._,{htmlFor:"port",children:"Port"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(p.I,{id:"port",...t})}),(0,n.jsx)(f.zG,{})]})}}),(0,n.jsx)(f.Wi,{control:u.control,name:"type",render:t=>{let{field:r}=t;return(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(x._,{htmlFor:"type",children:e("advanced.logrotation.type")}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsxs)(v.Ph,{onValueChange:r.onChange,value:r.value,children:[(0,n.jsx)(v.i4,{children:(0,n.jsx)(v.ki,{placeholder:e("advanced.logrotation.type_placeholder")})}),(0,n.jsxs)(v.Bw,{children:[(0,n.jsx)(v.Ql,{value:"tcp",children:"TCP"}),(0,n.jsx)(v.Ql,{value:"udp",children:"UDP"})]})]})}),(0,n.jsx)(f.zG,{})]})}}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsxs)(m.z,{type:"submit",children:[(0,n.jsx)(i.Z,{className:"mr-2 size-4"}),e("advanced.logrotation.save")]})})]})})})]})};y.getLayout=function(e){return(0,n.jsx)(u.Z,{children:e})},t.default=y}},function(e){e.O(0,[5059,3051,2888,9774,179],function(){return e(e.s=7839)}),_N_E=e.O()}]);