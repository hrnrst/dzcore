(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8760],{1325:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n(5711).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},9404:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n(5711).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},4632:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n(5711).Z)("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]])},3671:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n(5711).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},2230:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/advanced/certificates",function(){return n(4983)}])},3051:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(5893),s=n(5711);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),a=(0,s.Z)("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);var r=n(4632),d=n(5358),l=n(7421),o=n(9999);function u(e){let{children:t}=e,{t:n}=(0,l.$G)("settings"),s=[{id:"certificates",icon:c,title:n("advanced.certificates.title"),description:n("advanced.certificates.description"),href:"/settings/advanced/certificates",enabled:!0},{id:"dns",icon:a,title:n("advanced.dns.title"),description:n("advanced.dns.description"),href:"/settings/advanced/dns",enabled:!0},{id:"log_rotation",icon:r.Z,title:n("advanced.logrotation.title"),description:n("advanced.logrotation.description"),href:"/settings/advanced/log_rotation",enabled:!0},{id:"tweaks",icon:d.Z,title:n("advanced.tweaks.title"),description:n("advanced.tweaks.description"),href:"/settings/advanced/tweaks",enabled:!0}];return(0,i.jsxs)("div",{className:"grid grid-cols-4",style:{height:"var(--container-height)"},children:[(0,i.jsxs)("div",{className:"col-span-1 border-r",children:[(0,i.jsx)("div",{className:"flex items-center border-b p-8 text-2xl font-bold",children:n("advanced.title")}),s.map(e=>(0,i.jsx)(o.Z,{title:e.title,description:e.description,icon:e.icon,href:e.href,enabled:e.enabled},e.id))]}),(0,i.jsx)("div",{className:"col-span-3",children:t})]})}},9999:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(5893),s=n(1664),c=n.n(s),a=n(1163),r=n(7327);function d(e){return(0,i.jsxs)(i.Fragment,{children:[e.enabled&&(0,i.jsx)(c(),{href:e.href,children:(0,i.jsx)(l,{...e})}),!e.enabled&&(0,i.jsx)(l,{...e})]})}function l(e){let t=(0,a.useRouter)();return(0,i.jsxs)("div",{className:(0,r.cn)("flex w-full gap-6 border-b p-6",t.asPath.includes(e.href)&&"bg-secondary/50 dark:bg-secondary/5",!e.enabled&&"cursor-not-allowed"),children:[(0,i.jsx)("div",{className:"icon self-start rounded-md bg-secondary p-3 dark:bg-secondary/10",children:(0,i.jsx)(e.icon,{className:"size-5 text-secondary-foreground/70 dark:text-white/70"})}),(0,i.jsxs)("div",{className:(0,r.cn)(!e.enabled&&"text-muted-foreground"),children:[(0,i.jsx)("h3",{className:"font-semibold tracking-tight",children:e.title}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]})}},986:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(5893),s=n(9008),c=n.n(s);function a(e){let{title:t,description:n,rightSide:s}=e;return(0,i.jsxs)("div",{className:"flex-1 flex-col p-8 md:flex",children:[(0,i.jsx)(c(),{children:(0,i.jsx)("title",{children:"".concat(t," | DZ")})}),(0,i.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:t}),(0,i.jsx)("p",{className:"text-muted-foreground",children:n})]}),s&&(0,i.jsx)("div",{className:"flex items-center",children:s})]})]})}},5050:function(e,t,n){"use strict";n.d(t,{p:function(){return c}}),n(7294);var i=n(7421),s=n(4712);function c(){let{t:e}=(0,i.$G)("common");return{toast:t=>{let{title:n,description:i,variant:c}=t,a={description:i,duration:6e3,dismissible:!0},r="";switch(n==e("information")?r="info":n==e("success")?r="success":n==e("error")?r="error":n==e("warning")&&(r="warning"),c&&(r=c),r){case"success":return s.A.success(n,a);case"error":case"destructive":return s.A.error(n,a);case"warning":return s.A.warning(n,a);case"info":return s.A.info(n,a);default:return(0,s.A)(n,a)}}}}},8946:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});let i=(0,n(9391).Z)(),s=()=>i},4983:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var i=n(5893),s=n(9774),c=n(1325),a=n(1163),r=n(7294),d=n(7421),l=n(3051),o=n(9404);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,n(5711).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var f=n(3671),h=n(8946),m=n(2361),x=n(7249),p=n(7776),v=n(733),g=n(5050);function j(e){let{row:t}=e,{t:n}=(0,d.$G)("settings"),s=(0,a.useRouter)(),c=t.original,[l,h]=(0,r.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p.h_,{children:[(0,i.jsx)(p.$F,{asChild:!0,children:(0,i.jsxs)(x.z,{variant:"ghost",className:"flex size-5 p-0 data-[state=open]:bg-muted",children:[(0,i.jsx)(o.Z,{className:"size-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,i.jsxs)(p.AW,{align:"end",className:"w-[160px]",children:[(0,i.jsxs)(p.Xi,{onClick:()=>s.push("/settings/advanced/certificates/".concat(t.original.id)),children:[(0,i.jsx)(u,{className:"mr-2 size-3.5"}),n("advanced.certificates.actions.details")]}),(0,i.jsx)(p.VD,{}),(0,i.jsxs)(p.Xi,{onClick:()=>h(!0),children:[(0,i.jsx)(f.Z,{className:"mr-2 size-3.5"}),n("advanced.certificates.actions.delete.button")]})]})]}),(0,i.jsx)(y,{open:l,setOpen:h,certificate:c})]})}function y(e){let{open:t,setOpen:n,certificate:c}=e,{t:a}=(0,d.$G)("settings"),l=(0,h.q)(),{toast:o}=(0,g.p)(),[u,f]=(0,r.useState)(!1),x=()=>{f(!0),s.dJ.delete("/settings/advanced/certificates/".concat(c.id)).then(()=>{o({title:a("success"),description:a("advanced.certificates.actions.delete.success")}),l.emit("REFETCH_CERTIFICATES"),n(!1)}).catch(()=>{o({title:a("error"),description:a("advanced.certificates.actions.delete.error"),variant:"destructive"})}).finally(()=>{f(!1)})};return(0,i.jsx)(m.aR,{open:t,onOpenChange:e=>n(e),children:(0,i.jsxs)(m._T,{children:[(0,i.jsxs)(m.fY,{children:[(0,i.jsx)(m.f$,{children:a("advanced.certificates.actions.delete.title")}),(0,i.jsx)(m.yT,{children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:a("advanced.certificates.actions.delete.description",{name:c.server_hostname})}})})]}),(0,i.jsxs)(m.xo,{children:[(0,i.jsx)(m.le,{children:a("advanced.certificates.actions.delete.cancel")}),(0,i.jsxs)(m.OL,{onClick:()=>x(),children:[u&&(0,i.jsx)(v.P.spinner,{className:"size-4 animate-spin"}),a("advanced.certificates.actions.delete.delete")]})]})]})})}var k=n(5282),b=n(2532),w=n(986),N=n(7327);let _=()=>{let e=(0,a.useRouter)(),[t,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)([]),{t:u,i18n:f}=(0,d.$G)("settings"),m=(0,h.q)(),p=[{accessorKey:"server_hostname",header:e=>{let{column:t}=e;return(0,i.jsx)(b.p,{column:t,title:"Hostname"})},title:"Hostname"},{accessorKey:"origin",header:e=>{let{column:t}=e;return(0,i.jsx)(b.p,{column:t,title:"Port"})},title:"Port"},{accessorKey:"valid_to",header:e=>{let{column:t}=e;return(0,i.jsx)(b.p,{column:t,title:"Bitiş S\xfcresi"})},title:"Bitiş S\xfcresi",accessorFn:e=>new Date(e.valid_to).toLocaleDateString(f.language,{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),cell:e=>{let{row:t,getValue:n}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[new Date(t.original.valid_to).getTime()-new Date().getTime()<0?(0,i.jsx)("div",{className:"mr-2 size-3 rounded-full bg-red-500"}):new Date(t.original.valid_to).getTime()-new Date().getTime()<2592e6?(0,i.jsx)("div",{className:"mr-2 size-3 rounded-full bg-yellow-500"}):(0,i.jsx)("div",{className:"mr-2 size-3 rounded-full bg-green-500"}),n()]})})},sortingFn:N.aS},{id:"actions",cell:e=>{let{row:t}=e;return(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(j,{row:t})})}}],v=()=>{s.dJ.get("/settings/advanced/certificates").then(e=>{o(e.data),n(!1)})};return(0,r.useEffect)(()=>{v()},[]),(0,r.useEffect)(()=>(m.on("REFETCH_CERTIFICATES",()=>{v()}),()=>m.off("REFETCH_CERTIFICATES")),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.Z,{title:u("advanced.certificates.title"),description:u("advanced.certificates.description")}),(0,i.jsx)(k.Z,{columns:p,data:l,loading:t,selectable:!1,children:(0,i.jsxs)(x.z,{variant:"outline",size:"sm",className:"ml-auto h-8 lg:flex",onClick:()=>e.push("/settings/advanced/certificates/retrieve"),children:[(0,i.jsx)(c.Z,{className:"mr-2 size-4"}),u("advanced.certificates.add")]})})]})};_.getLayout=function(e){return(0,i.jsx)(l.Z,{children:e})};var Z=_},9391:function(e,t,n){"use strict";function i(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(e){e(n)}),(i=e.get("*"))&&i.slice().map(function(e){e(t,n)})}}}n.d(t,{Z:function(){return i}})}},function(e){e.O(0,[5059,3265,5855,2888,9774,179],function(){return e(e.s=2230)}),_N_E=e.O()}]);